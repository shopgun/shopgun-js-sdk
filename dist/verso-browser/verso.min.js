!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof rollupNeedsAnOptionToDisableAMDInUMD&&rollupNeedsAnOptionToDisableAMDInUMD.amd?rollupNeedsAnOptionToDisableAMDInUMD(e):(t="undefined"!=typeof globalThis?globalThis:t||self).Verso=e()}(this,(function(){"use strict";var t=function(t){try{return!!t()}catch(t){return!0}},e=!t((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function r(t){var e={exports:{}};return t(e,e.exports),e.exports}var i=function(t){return t&&t.Math==Math&&t},o=i("object"==typeof globalThis&&globalThis)||i("object"==typeof window&&window)||i("object"==typeof self&&self)||i("object"==typeof n&&n)||function(){return this}()||Function("return this")(),a=/#|\.prototype\./,s=function(e,n){var r=u[c(e)];return r==h||r!=l&&("function"==typeof n?t(n):!!n)},c=s.normalize=function(t){return String(t).replace(a,".").toLowerCase()},u=s.data={},l=s.NATIVE="N",h=s.POLYFILL="P",f=s,p=function(t){return"object"==typeof t?null!==t:"function"==typeof t},d=o.document,v=p(d)&&p(d.createElement),g=function(t){return v?d.createElement(t):{}},y=!e&&!t((function(){return 7!=Object.defineProperty(g("div"),"a",{get:function(){return 7}}).a})),m=function(t){if(!p(t))throw TypeError(String(t)+" is not an object");return t},b=function(t,e){if(!p(t))return t;var n,r;if(e&&"function"==typeof(n=t.toString)&&!p(r=n.call(t)))return r;if("function"==typeof(n=t.valueOf)&&!p(r=n.call(t)))return r;if(!e&&"function"==typeof(n=t.toString)&&!p(r=n.call(t)))return r;throw TypeError("Can't convert object to primitive value")},S=Object.defineProperty,E={f:e?S:function(t,e,n){if(m(t),e=b(e,!0),m(n),y)try{return S(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},w=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},T=e?function(t,e,n){return E.f(t,e,w(1,n))}:function(t,e,n){return t[e]=n,t},P={}.hasOwnProperty,A=function(t,e){return P.call(t,e)},O=function(t,e){try{T(o,t,e)}catch(n){o[t]=e}return e},x="__core-js_shared__",I=o[x]||O(x,{}),C=Function.toString;"function"!=typeof I.inspectSource&&(I.inspectSource=function(t){return C.call(t)});var _,j,k,R=I.inspectSource,L=o.WeakMap,D="function"==typeof L&&/native code/.test(R(L)),M=r((function(t){(t.exports=function(t,e){return I[t]||(I[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.8.3",mode:"global",copyright:"© 2021 Denis Pushkarev (zloirock.ru)"})})),N=0,F=Math.random(),z=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++N+F).toString(36)},Y=M("keys"),X=function(t){return Y[t]||(Y[t]=z(t))},W={},V=o.WeakMap;if(D){var U=I.state||(I.state=new V),q=U.get,G=U.has,H=U.set;_=function(t,e){return e.facade=t,H.call(U,t,e),e},j=function(t){return q.call(U,t)||{}},k=function(t){return G.call(U,t)}}else{var $=X("state");W[$]=!0,_=function(t,e){return e.facade=t,T(t,$,e),e},j=function(t){return A(t,$)?t[$]:{}},k=function(t){return A(t,$)}}var B,Z={set:_,get:j,has:k,enforce:function(t){return k(t)?j(t):_(t,{})},getterFor:function(t){return function(e){var n;if(!p(e)||(n=j(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return n}}},K=r((function(t){var e=Z.get,n=Z.enforce,r=String(String).split("String");(t.exports=function(t,e,i,a){var s,c=!!a&&!!a.unsafe,u=!!a&&!!a.enumerable,l=!!a&&!!a.noTargetGet;"function"==typeof i&&("string"!=typeof e||A(i,"name")||T(i,"name",e),(s=n(i)).source||(s.source=r.join("string"==typeof e?e:""))),t!==o?(c?!l&&t[e]&&(u=!0):delete t[e],u?t[e]=i:T(t,e,i)):u?t[e]=i:O(e,i)})(Function.prototype,"toString",(function(){return"function"==typeof this&&e(this).source||R(this)}))})),J={}.toString,Q=function(t){return J.call(t).slice(8,-1)},tt=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,n={};try{(t=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),e=n instanceof Array}catch(t){}return function(n,r){return m(n),function(t){if(!p(t)&&null!==t)throw TypeError("Can't set "+String(t)+" as a prototype")}(r),e?t.call(n,r):n.__proto__=r,n}}():void 0),et=function(t,e,n){var r,i;return tt&&"function"==typeof(r=e.constructor)&&r!==n&&p(i=r.prototype)&&i!==n.prototype&&tt(t,i),t},nt="".split,rt=t((function(){return!Object("z").propertyIsEnumerable(0)}))?function(t){return"String"==Q(t)?nt.call(t,""):Object(t)}:Object,it=function(t){if(null==t)throw TypeError("Can't call method on "+t);return t},ot=function(t){return rt(it(t))},at=Math.ceil,st=Math.floor,ct=function(t){return isNaN(t=+t)?0:(t>0?st:at)(t)},ut=Math.min,lt=function(t){return t>0?ut(ct(t),9007199254740991):0},ht=Math.max,ft=Math.min,pt=function(t){return function(e,n,r){var i,o=ot(e),a=lt(o.length),s=function(t,e){var n=ct(t);return n<0?ht(n+e,0):ft(n,e)}(r,a);if(t&&n!=n){for(;a>s;)if((i=o[s++])!=i)return!0}else for(;a>s;s++)if((t||s in o)&&o[s]===n)return t||s||0;return!t&&-1}},dt={includes:pt(!0),indexOf:pt(!1)}.indexOf,vt=function(t,e){var n,r=ot(t),i=0,o=[];for(n in r)!A(W,n)&&A(r,n)&&o.push(n);for(;e.length>i;)A(r,n=e[i++])&&(~dt(o,n)||o.push(n));return o},gt=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],yt=Object.keys||function(t){return vt(t,gt)},mt=e?Object.defineProperties:function(t,e){m(t);for(var n,r=yt(e),i=r.length,o=0;i>o;)E.f(t,n=r[o++],e[n]);return t},bt=o,St=function(t){return"function"==typeof t?t:void 0},Et=function(t,e){return arguments.length<2?St(bt[t])||St(o[t]):bt[t]&&bt[t][e]||o[t]&&o[t][e]},wt=Et("document","documentElement"),Tt=X("IE_PROTO"),Pt=function(){},At=function(t){return"<script>"+t+"</"+"script>"},Ot=function(){try{B=document.domain&&new ActiveXObject("htmlfile")}catch(t){}var t,e;Ot=B?function(t){t.write(At("")),t.close();var e=t.parentWindow.Object;return t=null,e}(B):((e=g("iframe")).style.display="none",wt.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write(At("document.F=Object")),t.close(),t.F);for(var n=gt.length;n--;)delete Ot.prototype[gt[n]];return Ot()};W[Tt]=!0;var xt=Object.create||function(t,e){var n;return null!==t?(Pt.prototype=m(t),n=new Pt,Pt.prototype=null,n[Tt]=t):n=Ot(),void 0===e?n:mt(n,e)},It=gt.concat("length","prototype"),Ct={f:Object.getOwnPropertyNames||function(t){return vt(t,It)}},_t={}.propertyIsEnumerable,jt=Object.getOwnPropertyDescriptor,kt={f:jt&&!_t.call({1:2},1)?function(t){var e=jt(this,t);return!!e&&e.enumerable}:_t},Rt=Object.getOwnPropertyDescriptor,Lt={f:e?Rt:function(t,e){if(t=ot(t),e=b(e,!0),y)try{return Rt(t,e)}catch(t){}if(A(t,e))return w(!kt.f.call(t,e),t[e])}},Dt="[\t\n\v\f\r                　\u2028\u2029\ufeff]",Mt=RegExp("^"+Dt+Dt+"*"),Nt=RegExp(Dt+Dt+"*$"),Ft=function(t){return function(e){var n=String(it(e));return 1&t&&(n=n.replace(Mt,"")),2&t&&(n=n.replace(Nt,"")),n}},zt={start:Ft(1),end:Ft(2),trim:Ft(3)},Yt=Ct.f,Xt=Lt.f,Wt=E.f,Vt=zt.trim,Ut="Number",qt=o.Number,Gt=qt.prototype,Ht=Q(xt(Gt))==Ut,$t=function(t){var e,n,r,i,o,a,s,c,u=b(t,!1);if("string"==typeof u&&u.length>2)if(43===(e=(u=Vt(u)).charCodeAt(0))||45===e){if(88===(n=u.charCodeAt(2))||120===n)return NaN}else if(48===e){switch(u.charCodeAt(1)){case 66:case 98:r=2,i=49;break;case 79:case 111:r=8,i=55;break;default:return+u}for(a=(o=u.slice(2)).length,s=0;s<a;s++)if((c=o.charCodeAt(s))<48||c>i)return NaN;return parseInt(o,r)}return+u};if(f(Ut,!qt(" 0o1")||!qt("0b1")||qt("+0x1"))){for(var Bt,Zt=function(e){var n=arguments.length<1?0:e,r=this;return r instanceof Zt&&(Ht?t((function(){Gt.valueOf.call(r)})):Q(r)!=Ut)?et(new qt($t(n)),r,Zt):$t(n)},Kt=e?Yt(qt):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,fromString,range".split(","),Jt=0;Kt.length>Jt;Jt++)A(qt,Bt=Kt[Jt])&&!A(Zt,Bt)&&Wt(Zt,Bt,Xt(qt,Bt));Zt.prototype=Gt,Gt.constructor=Zt,K(o,Ut,Zt)}var Qt={f:Object.getOwnPropertySymbols},te=Et("Reflect","ownKeys")||function(t){var e=Ct.f(m(t)),n=Qt.f;return n?e.concat(n(t)):e},ee=function(t,e){for(var n=te(e),r=E.f,i=Lt.f,o=0;o<n.length;o++){var a=n[o];A(t,a)||r(t,a,i(e,a))}},ne=Lt.f,re=function(t,e){var n,r,i,a,s,c=t.target,u=t.global,l=t.stat;if(n=u?o:l?o[c]||O(c,{}):(o[c]||{}).prototype)for(r in e){if(a=e[r],i=t.noTargetGet?(s=ne(n,r))&&s.value:n[r],!f(u?r:c+(l?".":"#")+r,t.forced)&&void 0!==i){if(typeof a==typeof i)continue;ee(a,i)}(t.sham||i&&i.sham)&&T(a,"sham",!0),K(n,r,a,t)}},ie=function(){var t=m(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e};function oe(t,e){return RegExp(t,e)}var ae,se,ce={UNSUPPORTED_Y:t((function(){var t=oe("a","y");return t.lastIndex=2,null!=t.exec("abcd")})),BROKEN_CARET:t((function(){var t=oe("^r","gy");return t.lastIndex=2,null!=t.exec("str")}))},ue=RegExp.prototype.exec,le=String.prototype.replace,he=ue,fe=(ae=/a/,se=/b*/g,ue.call(ae,"a"),ue.call(se,"a"),0!==ae.lastIndex||0!==se.lastIndex),pe=ce.UNSUPPORTED_Y||ce.BROKEN_CARET,de=void 0!==/()??/.exec("")[1];(fe||de||pe)&&(he=function(t){var e,n,r,i,o=this,a=pe&&o.sticky,s=ie.call(o),c=o.source,u=0,l=t;return a&&(-1===(s=s.replace("y","")).indexOf("g")&&(s+="g"),l=String(t).slice(o.lastIndex),o.lastIndex>0&&(!o.multiline||o.multiline&&"\n"!==t[o.lastIndex-1])&&(c="(?: "+c+")",l=" "+l,u++),n=new RegExp("^(?:"+c+")",s)),de&&(n=new RegExp("^"+c+"$(?!\\s)",s)),fe&&(e=o.lastIndex),r=ue.call(a?n:o,l),a?r?(r.input=r.input.slice(u),r[0]=r[0].slice(u),r.index=o.lastIndex,o.lastIndex+=r[0].length):o.lastIndex=0:fe&&r&&(o.lastIndex=o.global?r.index+r[0].length:e),de&&r&&r.length>1&&le.call(r[0],n,(function(){for(i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(r[i]=void 0)})),r});var ve=he;re({target:"RegExp",proto:!0,forced:/./.exec!==ve},{exec:ve});var ge=!!Object.getOwnPropertySymbols&&!t((function(){return!String(Symbol())})),ye=ge&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,me=M("wks"),be=o.Symbol,Se=ye?be:be&&be.withoutSetter||z,Ee=function(t){return A(me,t)||(ge&&A(be,t)?me[t]=be[t]:me[t]=Se("Symbol."+t)),me[t]},we=Ee("species"),Te=!t((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),Pe="$0"==="a".replace(/./,"$0"),Ae=Ee("replace"),Oe=!!/./[Ae]&&""===/./[Ae]("a","$0"),xe=!t((function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2!==n.length||"a"!==n[0]||"b"!==n[1]})),Ie=function(e,n,r,i){var o=Ee(e),a=!t((function(){var t={};return t[o]=function(){return 7},7!=""[e](t)})),s=a&&!t((function(){var t=!1,n=/a/;return"split"===e&&((n={}).constructor={},n.constructor[we]=function(){return n},n.flags="",n[o]=/./[o]),n.exec=function(){return t=!0,null},n[o](""),!t}));if(!a||!s||"replace"===e&&(!Te||!Pe||Oe)||"split"===e&&!xe){var c=/./[o],u=r(o,""[e],(function(t,e,n,r,i){return e.exec===ve?a&&!i?{done:!0,value:c.call(e,n,r)}:{done:!0,value:t.call(n,e,r)}:{done:!1}}),{REPLACE_KEEPS_$0:Pe,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:Oe}),l=u[0],h=u[1];K(String.prototype,e,l),K(RegExp.prototype,o,2==n?function(t,e){return h.call(t,this,e)}:function(t){return h.call(t,this)})}i&&T(RegExp.prototype[o],"sham",!0)},Ce=Ee("match"),_e=Ee("species"),je=function(t,e){var n,r=m(t).constructor;return void 0===r||null==(n=m(r)[_e])?e:function(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t}(n)},ke=function(t){return function(e,n){var r,i,o=String(it(e)),a=ct(n),s=o.length;return a<0||a>=s?t?"":void 0:(r=o.charCodeAt(a))<55296||r>56319||a+1===s||(i=o.charCodeAt(a+1))<56320||i>57343?t?o.charAt(a):r:t?o.slice(a,a+2):i-56320+(r-55296<<10)+65536}},Re={codeAt:ke(!1),charAt:ke(!0)}.charAt,Le=function(t,e,n){return e+(n?Re(t,e).length:1)},De=function(t,e){var n=t.exec;if("function"==typeof n){var r=n.call(t,e);if("object"!=typeof r)throw TypeError("RegExp exec method returned something other than an Object or null");return r}if("RegExp"!==Q(t))throw TypeError("RegExp#exec called on incompatible receiver");return ve.call(t,e)},Me=[].push,Ne=Math.min,Fe=4294967295,ze=!t((function(){return!RegExp(Fe,"y")}));Ie("split",2,(function(t,e,n){var r;return r="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,n){var r,i,o=String(it(this)),a=void 0===n?Fe:n>>>0;if(0===a)return[];if(void 0===t)return[o];if(!p(r=t)||!(void 0!==(i=r[Ce])?i:"RegExp"==Q(r)))return e.call(o,t,a);for(var s,c,u,l=[],h=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),f=0,d=new RegExp(t.source,h+"g");(s=ve.call(d,o))&&!((c=d.lastIndex)>f&&(l.push(o.slice(f,s.index)),s.length>1&&s.index<o.length&&Me.apply(l,s.slice(1)),u=s[0].length,f=c,l.length>=a));)d.lastIndex===s.index&&d.lastIndex++;return f===o.length?!u&&d.test("")||l.push(""):l.push(o.slice(f)),l.length>a?l.slice(0,a):l}:"0".split(void 0,0).length?function(t,n){return void 0===t&&0===n?[]:e.call(this,t,n)}:e,[function(e,n){var i=it(this),o=null==e?void 0:e[t];return void 0!==o?o.call(e,i,n):r.call(String(i),e,n)},function(t,i){var o=n(r,t,this,i,r!==e);if(o.done)return o.value;var a=m(t),s=String(this),c=je(a,RegExp),u=a.unicode,l=(a.ignoreCase?"i":"")+(a.multiline?"m":"")+(a.unicode?"u":"")+(ze?"y":"g"),h=new c(ze?a:"^(?:"+a.source+")",l),f=void 0===i?Fe:i>>>0;if(0===f)return[];if(0===s.length)return null===De(h,s)?[s]:[];for(var p=0,d=0,v=[];d<s.length;){h.lastIndex=ze?d:0;var g,y=De(h,ze?s:s.slice(d));if(null===y||(g=Ne(lt(h.lastIndex+(ze?0:d)),s.length))===p)d=Le(s,d,u);else{if(v.push(s.slice(p,d)),v.length===f)return v;for(var b=1;b<=y.length-1;b++)if(v.push(y[b]),v.length===f)return v;d=p=g}}return v.push(s.slice(p)),v}]}),!ze);var Ye=function(t){return t&&t.Math==Math&&t},Xe=Ye("object"==typeof globalThis&&globalThis)||Ye("object"==typeof window&&window)||Ye("object"==typeof self&&self)||Ye("object"==typeof n&&n)||function(){return this}()||Function("return this")(),We=function(t){try{return!!t()}catch(t){return!0}},Ve=!We((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),Ue={}.propertyIsEnumerable,qe=Object.getOwnPropertyDescriptor,Ge={f:qe&&!Ue.call({1:2},1)?function(t){var e=qe(this,t);return!!e&&e.enumerable}:Ue},He=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},$e={}.toString,Be=function(t){return $e.call(t).slice(8,-1)},Ze="".split,Ke=We((function(){return!Object("z").propertyIsEnumerable(0)}))?function(t){return"String"==Be(t)?Ze.call(t,""):Object(t)}:Object,Je=function(t){if(null==t)throw TypeError("Can't call method on "+t);return t},Qe=function(t){return Ke(Je(t))},tn=function(t){return"object"==typeof t?null!==t:"function"==typeof t},en=function(t,e){if(!tn(t))return t;var n,r;if(e&&"function"==typeof(n=t.toString)&&!tn(r=n.call(t)))return r;if("function"==typeof(n=t.valueOf)&&!tn(r=n.call(t)))return r;if(!e&&"function"==typeof(n=t.toString)&&!tn(r=n.call(t)))return r;throw TypeError("Can't convert object to primitive value")},nn={}.hasOwnProperty,rn=function(t,e){return nn.call(t,e)},on=Xe.document,an=tn(on)&&tn(on.createElement),sn=function(t){return an?on.createElement(t):{}},cn=!Ve&&!We((function(){return 7!=Object.defineProperty(sn("div"),"a",{get:function(){return 7}}).a})),un=Object.getOwnPropertyDescriptor,ln={f:Ve?un:function(t,e){if(t=Qe(t),e=en(e,!0),cn)try{return un(t,e)}catch(t){}if(rn(t,e))return He(!Ge.f.call(t,e),t[e])}},hn=/#|\.prototype\./,fn=function(t,e){var n=dn[pn(t)];return n==gn||n!=vn&&("function"==typeof e?We(e):!!e)},pn=fn.normalize=function(t){return String(t).replace(hn,".").toLowerCase()},dn=fn.data={},vn=fn.NATIVE="N",gn=fn.POLYFILL="P",yn=fn,mn={},bn=function(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t},Sn=function(t,e,n){if(bn(t),void 0===e)return t;switch(n){case 0:return function(){return t.call(e)};case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}},En=function(t){if(!tn(t))throw TypeError(String(t)+" is not an object");return t},wn=Object.defineProperty,Tn={f:Ve?wn:function(t,e,n){if(En(t),e=en(e,!0),En(n),cn)try{return wn(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},Pn=Ve?function(t,e,n){return Tn.f(t,e,He(1,n))}:function(t,e,n){return t[e]=n,t},An=ln.f,On=function(t){var e=function(e,n,r){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,n)}return new t(e,n,r)}return t.apply(this,arguments)};return e.prototype=t.prototype,e},xn=function(t,e){var n,r,i,o,a,s,c,u,l=t.target,h=t.global,f=t.stat,p=t.proto,d=h?Xe:f?Xe[l]:(Xe[l]||{}).prototype,v=h?mn:mn[l]||(mn[l]={}),g=v.prototype;for(i in e)n=!yn(h?i:l+(f?".":"#")+i,t.forced)&&d&&rn(d,i),a=v[i],n&&(s=t.noTargetGet?(u=An(d,i))&&u.value:d[i]),o=n&&s?s:e[i],n&&typeof a==typeof o||(c=t.bind&&n?Sn(o,Xe):t.wrap&&n?On(o):p&&"function"==typeof o?Sn(Function.call,o):o,(t.sham||o&&o.sham||a&&a.sham)&&Pn(c,"sham",!0),v[i]=c,p&&(rn(mn,r=l+"Prototype")||Pn(mn,r,{}),mn[r][i]=o,t.real&&g&&!g[i]&&Pn(g,i,o)))},In=function(t){return"function"==typeof t?t:void 0},Cn=function(t,e){return arguments.length<2?In(mn[t])||In(Xe[t]):mn[t]&&mn[t][e]||Xe[t]&&Xe[t][e]},_n=Cn("navigator","userAgent")||"",jn=[].slice,kn=/MSIE .\./.test(_n),Rn=function(t){return function(e,n){var r=arguments.length>2,i=r?jn.call(arguments,2):void 0;return t(r?function(){("function"==typeof e?e:Function(e)).apply(this,i)}:e,n)}};xn({global:!0,bind:!0,forced:kn},{setTimeout:Rn(Xe.setTimeout),setInterval:Rn(Xe.setInterval)});var Ln=mn.setTimeout,Dn=Math.ceil,Mn=Math.floor,Nn=function(t){return isNaN(t=+t)?0:(t>0?Mn:Dn)(t)},Fn=function(t){return function(e,n){var r,i,o=String(Je(e)),a=Nn(n),s=o.length;return a<0||a>=s?t?"":void 0:(r=o.charCodeAt(a))<55296||r>56319||a+1===s||(i=o.charCodeAt(a+1))<56320||i>57343?t?o.charAt(a):r:t?o.slice(a,a+2):i-56320+(r-55296<<10)+65536}},zn={codeAt:Fn(!1),charAt:Fn(!0)},Yn="__core-js_shared__",Xn=Xe[Yn]||function(t,e){try{Pn(Xe,t,e)}catch(n){Xe[t]=e}return e}(Yn,{}),Wn=Function.toString;"function"!=typeof Xn.inspectSource&&(Xn.inspectSource=function(t){return Wn.call(t)});var Vn,Un,qn,Gn=Xn.inspectSource,Hn=Xe.WeakMap,$n="function"==typeof Hn&&/native code/.test(Gn(Hn)),Bn=r((function(t){(t.exports=function(t,e){return Xn[t]||(Xn[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.8.3",mode:"pure",copyright:"© 2021 Denis Pushkarev (zloirock.ru)"})})),Zn=0,Kn=Math.random(),Jn=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++Zn+Kn).toString(36)},Qn=Bn("keys"),tr=function(t){return Qn[t]||(Qn[t]=Jn(t))},er={},nr=Xe.WeakMap;if($n){var rr=Xn.state||(Xn.state=new nr),ir=rr.get,or=rr.has,ar=rr.set;Vn=function(t,e){return e.facade=t,ar.call(rr,t,e),e},Un=function(t){return ir.call(rr,t)||{}},qn=function(t){return or.call(rr,t)}}else{var sr=tr("state");er[sr]=!0,Vn=function(t,e){return e.facade=t,Pn(t,sr,e),e},Un=function(t){return rn(t,sr)?t[sr]:{}},qn=function(t){return rn(t,sr)}}var cr,ur,lr,hr={set:Vn,get:Un,has:qn,enforce:function(t){return qn(t)?Un(t):Vn(t,{})},getterFor:function(t){return function(e){var n;if(!tn(e)||(n=Un(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return n}}},fr=function(t){return Object(Je(t))},pr=!We((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype})),dr=tr("IE_PROTO"),vr=Object.prototype,gr=pr?Object.getPrototypeOf:function(t){return t=fr(t),rn(t,dr)?t[dr]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?vr:null},yr=!!Object.getOwnPropertySymbols&&!We((function(){return!String(Symbol())})),mr=yr&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,br=Bn("wks"),Sr=Xe.Symbol,Er=mr?Sr:Sr&&Sr.withoutSetter||Jn,wr=function(t){return rn(br,t)||(yr&&rn(Sr,t)?br[t]=Sr[t]:br[t]=Er("Symbol."+t)),br[t]},Tr=wr("iterator"),Pr=!1;[].keys&&("next"in(lr=[].keys())?(ur=gr(gr(lr)))!==Object.prototype&&(cr=ur):Pr=!0);var Ar=null==cr||We((function(){var t={};return cr[Tr].call(t)!==t}));Ar&&(cr={}),Ar&&!rn(cr,Tr)&&Pn(cr,Tr,(function(){return this}));var Or,xr={IteratorPrototype:cr,BUGGY_SAFARI_ITERATORS:Pr},Ir=Math.min,Cr=function(t){return t>0?Ir(Nn(t),9007199254740991):0},_r=Math.max,jr=Math.min,kr=function(t,e){var n=Nn(t);return n<0?_r(n+e,0):jr(n,e)},Rr=function(t){return function(e,n,r){var i,o=Qe(e),a=Cr(o.length),s=kr(r,a);if(t&&n!=n){for(;a>s;)if((i=o[s++])!=i)return!0}else for(;a>s;s++)if((t||s in o)&&o[s]===n)return t||s||0;return!t&&-1}},Lr={includes:Rr(!0),indexOf:Rr(!1)},Dr=Lr.indexOf,Mr=function(t,e){var n,r=Qe(t),i=0,o=[];for(n in r)!rn(er,n)&&rn(r,n)&&o.push(n);for(;e.length>i;)rn(r,n=e[i++])&&(~Dr(o,n)||o.push(n));return o},Nr=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],Fr=Object.keys||function(t){return Mr(t,Nr)},zr=Ve?Object.defineProperties:function(t,e){En(t);for(var n,r=Fr(e),i=r.length,o=0;i>o;)Tn.f(t,n=r[o++],e[n]);return t},Yr=Cn("document","documentElement"),Xr=tr("IE_PROTO"),Wr=function(){},Vr=function(t){return"<script>"+t+"</"+"script>"},Ur=function(){try{Or=document.domain&&new ActiveXObject("htmlfile")}catch(t){}var t,e;Ur=Or?function(t){t.write(Vr("")),t.close();var e=t.parentWindow.Object;return t=null,e}(Or):((e=sn("iframe")).style.display="none",Yr.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write(Vr("document.F=Object")),t.close(),t.F);for(var n=Nr.length;n--;)delete Ur.prototype[Nr[n]];return Ur()};er[Xr]=!0;var qr=Object.create||function(t,e){var n;return null!==t?(Wr.prototype=En(t),n=new Wr,Wr.prototype=null,n[Xr]=t):n=Ur(),void 0===e?n:zr(n,e)},Gr={};Gr[wr("toStringTag")]="z";var Hr="[object z]"===String(Gr),$r=wr("toStringTag"),Br="Arguments"==Be(function(){return arguments}()),Zr=Hr?Be:function(t){var e,n,r;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),$r))?n:Br?Be(e):"Object"==(r=Be(e))&&"function"==typeof e.callee?"Arguments":r},Kr=Hr?{}.toString:function(){return"[object "+Zr(this)+"]"},Jr=Tn.f,Qr=wr("toStringTag"),ti=function(t,e,n,r){if(t){var i=n?t:t.prototype;rn(i,Qr)||Jr(i,Qr,{configurable:!0,value:e}),r&&!Hr&&Pn(i,"toString",Kr)}},ei={},ni=xr.IteratorPrototype,ri=function(){return this},ii=(Object.setPrototypeOf||"__proto__"in{}&&function(){var t,e=!1,n={};try{(t=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),e=n instanceof Array}catch(t){}}(),function(t,e,n,r){r&&r.enumerable?t[e]=n:Pn(t,e,n)}),oi=xr.IteratorPrototype,ai=xr.BUGGY_SAFARI_ITERATORS,si=wr("iterator"),ci="keys",ui="values",li="entries",hi=function(){return this},fi=function(t,e,n,r,i,o,a){!function(t,e,n){var r=e+" Iterator";t.prototype=qr(ni,{next:He(1,n)}),ti(t,r,!1,!0),ei[r]=ri}(n,e,r);var s,c,u,l=function(t){if(t===i&&v)return v;if(!ai&&t in p)return p[t];switch(t){case ci:case ui:case li:return function(){return new n(this,t)}}return function(){return new n(this)}},h=e+" Iterator",f=!1,p=t.prototype,d=p[si]||p["@@iterator"]||i&&p[i],v=!ai&&d||l(i),g="Array"==e&&p.entries||d;if(g&&(s=gr(g.call(new t)),oi!==Object.prototype&&s.next&&(ti(s,h,!0,!0),ei[h]=hi)),i==ui&&d&&d.name!==ui&&(f=!0,v=function(){return d.call(this)}),a&&p[si]!==v&&Pn(p,si,v),ei[e]=v,i)if(c={values:l(ui),keys:o?v:l(ci),entries:l(li)},a)for(u in c)(ai||f||!(u in p))&&ii(p,u,c[u]);else xn({target:e,proto:!0,forced:ai||f},c);return c},pi=zn.charAt,di="String Iterator",vi=hr.set,gi=hr.getterFor(di);fi(String,"String",(function(t){vi(this,{type:di,string:String(t),index:0})}),(function(){var t,e=gi(this),n=e.string,r=e.index;return r>=n.length?{value:void 0,done:!0}:(t=pi(n,r),e.index+=t.length,{value:t,done:!1})}));var yi=function(t,e,n,r){try{return r?e(En(n)[0],n[1]):e(n)}catch(e){throw function(t){var e=t.return;if(void 0!==e)En(e.call(t)).value}(t),e}},mi=wr("iterator"),bi=Array.prototype,Si=function(t){return void 0!==t&&(ei.Array===t||bi[mi]===t)},Ei=function(t,e,n){var r=en(e);r in t?Tn.f(t,r,He(0,n)):t[r]=n},wi=wr("iterator"),Ti=function(t){if(null!=t)return t[wi]||t["@@iterator"]||ei[Zr(t)]},Pi=wr("iterator"),Ai=!1;try{var Oi=0,xi={next:function(){return{done:!!Oi++}},return:function(){Ai=!0}};xi[Pi]=function(){return this},Array.from(xi,(function(){throw 2}))}catch(t){}var Ii=!function(t,e){if(!e&&!Ai)return!1;var n=!1;try{var r={};r[Pi]=function(){return{next:function(){return{done:n=!0}}}},t(r)}catch(t){}return n}((function(t){Array.from(t)}));xn({target:"Array",stat:!0,forced:Ii},{from:function(t){var e,n,r,i,o,a,s=fr(t),c="function"==typeof this?this:Array,u=arguments.length,l=u>1?arguments[1]:void 0,h=void 0!==l,f=Ti(s),p=0;if(h&&(l=Sn(l,u>2?arguments[2]:void 0,2)),null==f||c==Array&&Si(f))for(n=new c(e=Cr(s.length));e>p;p++)a=h?l(s[p],p):s[p],Ei(n,p,a);else for(o=(i=f.call(s)).next,n=new c;!(r=o.call(i)).done;p++)a=h?yi(i,l,[r.value,p],!0):r.value,Ei(n,p,a);return n.length=p,n}});var Ci=mn.Array.from,_i=Ci,ji=[].slice,ki={},Ri=function(t,e,n){if(!(e in ki)){for(var r=[],i=0;i<e;i++)r[i]="a["+i+"]";ki[e]=Function("C,a","return new C("+r.join(",")+")")}return ki[e](t,n)},Li=Function.bind||function(t){var e=bn(this),n=ji.call(arguments,1),r=function(){var i=n.concat(ji.call(arguments));return this instanceof r?Ri(e,i.length,i):e.apply(t,i)};return tn(e.prototype)&&(r.prototype=e.prototype),r};xn({target:"Function",proto:!0},{bind:Li});var Di=function(t){return mn[t+"Prototype"]},Mi=Di("Function").bind,Ni=Function.prototype,Fi=function(t){var e=t.bind;return t===Ni||t instanceof Function&&e===Ni.bind?Mi:e},zi="Array Iterator",Yi=hr.set,Xi=hr.getterFor(zi);fi(Array,"Array",(function(t,e){Yi(this,{type:zi,target:Qe(t),index:0,kind:e})}),(function(){var t=Xi(this),e=t.target,n=t.kind,r=t.index++;return!e||r>=e.length?(t.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:e[r],done:!1}:{value:[r,e[r]],done:!1}}),"values");ei.Arguments=ei.Array;var Wi=wr("toStringTag");for(var Vi in{CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}){var Ui=Xe[Vi],qi=Ui&&Ui.prototype;qi&&Zr(qi)!==Wi&&Pn(qi,Wi,Vi),ei[Vi]=ei.Array}var Gi=Array.isArray||function(t){return"Array"==Be(t)},Hi=wr("species"),$i=function(t,e){var n;return Gi(t)&&("function"!=typeof(n=t.constructor)||n!==Array&&!Gi(n.prototype)?tn(n)&&null===(n=n[Hi])&&(n=void 0):n=void 0),new(void 0===n?Array:n)(0===e?0:e)},Bi=[].push,Zi=function(t){var e=1==t,n=2==t,r=3==t,i=4==t,o=6==t,a=7==t,s=5==t||o;return function(c,u,l,h){for(var f,p,d=fr(c),v=Ke(d),g=Sn(u,l,3),y=Cr(v.length),m=0,b=h||$i,S=e?b(c,y):n||a?b(c,0):void 0;y>m;m++)if((s||m in v)&&(p=g(f=v[m],m,d),t))if(e)S[m]=p;else if(p)switch(t){case 3:return!0;case 5:return f;case 6:return m;case 2:Bi.call(S,f)}else switch(t){case 4:return!1;case 7:Bi.call(S,f)}return o?-1:r||i?i:S}},Ki={forEach:Zi(0),map:Zi(1),filter:Zi(2),some:Zi(3),every:Zi(4),find:Zi(5),findIndex:Zi(6),filterOut:Zi(7)},Ji=function(t,e){var n=[][t];return!!n&&We((function(){n.call(null,e||function(){throw 1},1)}))},Qi=Object.defineProperty,to={},eo=function(t){throw t},no=function(t,e){if(rn(to,t))return to[t];e||(e={});var n=[][t],r=!!rn(e,"ACCESSORS")&&e.ACCESSORS,i=rn(e,0)?e[0]:eo,o=rn(e,1)?e[1]:void 0;return to[t]=!!n&&!We((function(){if(r&&!Ve)return!0;var t={length:-1};r?Qi(t,1,{enumerable:!0,get:eo}):t[1]=1,n.call(t,i,o)}))},ro=Ki.forEach,io=Ji("forEach"),oo=no("forEach"),ao=io&&oo?[].forEach:function(t){return ro(this,t,arguments.length>1?arguments[1]:void 0)};xn({target:"Array",proto:!0,forced:[].forEach!=ao},{forEach:ao});var so=Di("Array").forEach,co=Array.prototype,uo={DOMTokenList:!0,NodeList:!0},lo=function(t){var e=t.forEach;return t===co||t instanceof Array&&e===co.forEach||uo.hasOwnProperty(Zr(t))?so:e},ho=Lr.indexOf,fo=[].indexOf,po=!!fo&&1/[1].indexOf(1,-0)<0,vo=Ji("indexOf"),go=no("indexOf",{ACCESSORS:!0,1:0});xn({target:"Array",proto:!0,forced:po||!vo||!go},{indexOf:function(t){return po?fo.apply(this,arguments)||0:ho(this,t,arguments.length>1?arguments[1]:void 0)}});var yo,mo,bo=Di("Array").indexOf,So=Array.prototype,Eo=function(t){var e=t.indexOf;return t===So||t instanceof Array&&e===So.indexOf?bo:e},wo=Xe.process,To=wo&&wo.versions,Po=To&&To.v8;Po?mo=(yo=Po.split("."))[0]+yo[1]:_n&&(!(yo=_n.match(/Edge\/(\d+)/))||yo[1]>=74)&&(yo=_n.match(/Chrome\/(\d+)/))&&(mo=yo[1]);var Ao=mo&&+mo,Oo=wr("species"),xo=function(t){return Ao>=51||!We((function(){var e=[];return(e.constructor={})[Oo]=function(){return{foo:1}},1!==e[t](Boolean).foo}))},Io=xo("splice"),Co=no("splice",{ACCESSORS:!0,0:0,1:2}),_o=Math.max,jo=Math.min,ko=9007199254740991,Ro="Maximum allowed length exceeded";xn({target:"Array",proto:!0,forced:!Io||!Co},{splice:function(t,e){var n,r,i,o,a,s,c=fr(this),u=Cr(c.length),l=kr(t,u),h=arguments.length;if(0===h?n=r=0:1===h?(n=0,r=u-l):(n=h-2,r=jo(_o(Nn(e),0),u-l)),u+n-r>ko)throw TypeError(Ro);for(i=$i(c,r),o=0;o<r;o++)(a=l+o)in c&&Ei(i,o,c[a]);if(i.length=r,n<r){for(o=l;o<u-r;o++)s=o+n,(a=o+r)in c?c[s]=c[a]:delete c[s];for(o=u;o>u-r+n;o--)delete c[o-1]}else if(n>r)for(o=u-r;o>l;o--)s=o+n-1,(a=o+r-1)in c?c[s]=c[a]:delete c[s];for(o=0;o<n;o++)c[o+l]=arguments[o+2];return c.length=u-r+n,i}});var Lo=Di("Array").splice,Do=Array.prototype,Mo=function(t){var e=t.splice;return t===Do||t instanceof Array&&e===Do.splice?Lo:e};var No=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")};xn({target:"Object",stat:!0,forced:!Ve,sham:!Ve},{defineProperty:Tn.f});var Fo=r((function(t){var e=mn.Object,n=t.exports=function(t,n,r){return e.defineProperty(t,n,r)};e.defineProperty.sham&&(n.sham=!0)})),zo=Fo;function Yo(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),zo(t,r.key,r)}}var Xo=function(t,e,n){return e&&Yo(t.prototype,e),n&&Yo(t,n),t},Wo=wr("isConcatSpreadable"),Vo=9007199254740991,Uo="Maximum allowed index exceeded",qo=Ao>=51||!We((function(){var t=[];return t[Wo]=!1,t.concat()[0]!==t})),Go=xo("concat"),Ho=function(t){if(!tn(t))return!1;var e=t[Wo];return void 0!==e?!!e:Gi(t)};xn({target:"Array",proto:!0,forced:!qo||!Go},{concat:function(t){var e,n,r,i,o,a=fr(this),s=$i(a,0),c=0;for(e=-1,r=arguments.length;e<r;e++)if(Ho(o=-1===e?a:arguments[e])){if(c+(i=Cr(o.length))>Vo)throw TypeError(Uo);for(n=0;n<i;n++,c++)n in o&&Ei(s,c,o[n])}else{if(c>=Vo)throw TypeError(Uo);Ei(s,c++,o)}return s.length=c,s}});var $o=Di("Array").concat,Bo=Array.prototype,Zo=function(t){var e=t.concat;return t===Bo||t instanceof Array&&e===Bo.concat?$o:e};var Ko=function(t,e,n){return e in t?zo(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t},Jo=function(){function t(e){No(this,t),Ko(this,"run",0),this.el=e}return Xo(t,[{key:"animate",value:function(){var t,e,n,r,i,o,a,s=this,c=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},l=null!==(t=c.x)&&void 0!==t?t:0,h=null!==(e=c.y)&&void 0!==e?e:0,f=null!==(n=c.scale)&&void 0!==n?n:1,p=null!==(r=c.easing)&&void 0!==r?r:"ease-out",d=null!==(i=c.duration)&&void 0!==i?i:0,v=++this.run,g=Zo(o=Zo(a="translateX(".concat(l,") translateY(")).call(a,h,") scale(")).call(o,f,")");if(this.el.style.transform===g)u();else if(d>0){var y,m=function t(){v===s.run&&(s.el.removeEventListener("transitionend",t),s.el.style.transition="none",u())};this.el.addEventListener("transitionend",m,!1),this.el.style.transition=Zo(y="transform ".concat(p," ")).call(y,d,"ms"),this.el.style.transform=g}else this.el.style.transition="none",this.el.style.transform=g,u();return this}}]),t}(),Qo=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};No(this,t),Ko(this,"visibility","gone"),Ko(this,"positioned",!1),Ko(this,"active",!1),this.el=e,this.options=n,this.id=this.options.id,this.type=this.options.type,this.pageIds=this.options.pageIds,this.width=this.options.width,this.left=this.options.left,this.maxZoomScale=this.options.maxZoomScale}return Xo(t,[{key:"isZoomable",value:function(){return this.getMaxZoomScale()>1&&"false"!==this.getEl().getAttribute("data-zoomable")}},{key:"isScrollable",value:function(){return this.getEl().classList.contains("verso--scrollable")}},{key:"getEl",value:function(){return this.el}},{key:"getOverlayEls",value:function(){return this.getEl().querySelectorAll(".verso__overlay")}},{key:"getPageEls",value:function(){return this.getEl().querySelectorAll(".verso__page")}},{key:"getRect",value:function(){return this.getEl().getBoundingClientRect()}},{key:"getContentRect",value:function(){for(var t,e,n,r,i={top:null,left:null,right:null,bottom:null,width:null,height:null},o=0,a=_i(this.getPageEls());o<a.length;o++){var s=a[o].getBoundingClientRect();(s.top<i.top||null==i.top)&&(i.top=s.top),(s.left<i.left||null==i.left)&&(i.left=s.left),(s.right>i.right||null==i.right)&&(i.right=s.right),(s.bottom>i.bottom||null==i.bottom)&&(i.bottom=s.bottom)}return i.top=null!==(t=i.top)&&void 0!==t?t:0,i.left=null!==(e=i.left)&&void 0!==e?e:0,i.right=null!==(n=i.right)&&void 0!==n?n:0,i.bottom=null!==(r=i.bottom)&&void 0!==r?r:0,i.width=i.right-i.left,i.height=i.bottom-i.top,i}},{key:"getId",value:function(){return this.id}},{key:"getType",value:function(){return this.type}},{key:"getPageIds",value:function(){return this.pageIds}},{key:"getWidth",value:function(){return this.width}},{key:"getLeft",value:function(){return this.left}},{key:"getMaxZoomScale",value:function(){return this.maxZoomScale}},{key:"getVisibility",value:function(){return this.visibility}},{key:"setVisibility",value:function(t){return this.visibility!==t&&(this.getEl().style.display="visible"===t?"block":"none",this.visibility=t),this}},{key:"position",value:function(){return!1===this.positioned&&(this.getEl().style.left="".concat(this.getLeft(),"%"),this.positioned=!0),this}},{key:"activate",value:function(){this.active=!0,this.getEl().setAttribute("data-active",this.active)}},{key:"deactivate",value:function(){this.active=!1,this.getEl().setAttribute("data-active",this.active)}}]),t}(),ta=Fo;xn({target:"Object",stat:!0,forced:!Ve,sham:!Ve},{defineProperties:zr});var ea=r((function(t){var e=mn.Object,n=t.exports=function(t,n){return e.defineProperties(t,n)};e.defineProperties.sham&&(n.sham=!0)})),na=Nr.concat("length","prototype"),ra={f:Object.getOwnPropertyNames||function(t){return Mr(t,na)}},ia={f:Object.getOwnPropertySymbols},oa=Cn("Reflect","ownKeys")||function(t){var e=ra.f(En(t)),n=ia.f;return n?e.concat(n(t)):e};xn({target:"Object",stat:!0,sham:!Ve},{getOwnPropertyDescriptors:function(t){for(var e,n,r=Qe(t),i=ln.f,o=oa(r),a={},s=0;o.length>s;)void 0!==(n=i(r,e=o[s++]))&&Ei(a,e,n);return a}});var aa=mn.Object.getOwnPropertyDescriptors,sa=ln.f,ca=We((function(){sa(1)}));xn({target:"Object",stat:!0,forced:!Ve||ca,sham:!Ve},{getOwnPropertyDescriptor:function(t,e){return sa(Qe(t),e)}});var ua=r((function(t){var e=mn.Object,n=t.exports=function(t,n){return e.getOwnPropertyDescriptor(t,n)};e.getOwnPropertyDescriptor.sham&&(n.sham=!0)})),la=ra.f,ha={}.toString,fa="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],pa={f:function(t){return fa&&"[object Window]"==ha.call(t)?function(t){try{return la(t)}catch(t){return fa.slice()}}(t):la(Qe(t))}},da={f:wr},va=Tn.f,ga=function(t){var e=mn.Symbol||(mn.Symbol={});rn(e,t)||va(e,t,{value:da.f(t)})},ya=Ki.forEach,ma=tr("hidden"),ba="Symbol",Sa=wr("toPrimitive"),Ea=hr.set,wa=hr.getterFor(ba),Ta=Object.prototype,Pa=Xe.Symbol,Aa=Cn("JSON","stringify"),Oa=ln.f,xa=Tn.f,Ia=pa.f,Ca=Ge.f,_a=Bn("symbols"),ja=Bn("op-symbols"),ka=Bn("string-to-symbol-registry"),Ra=Bn("symbol-to-string-registry"),La=Bn("wks"),Da=Xe.QObject,Ma=!Da||!Da.prototype||!Da.prototype.findChild,Na=Ve&&We((function(){return 7!=qr(xa({},"a",{get:function(){return xa(this,"a",{value:7}).a}})).a}))?function(t,e,n){var r=Oa(Ta,e);r&&delete Ta[e],xa(t,e,n),r&&t!==Ta&&xa(Ta,e,r)}:xa,Fa=function(t,e){var n=_a[t]=qr(Pa.prototype);return Ea(n,{type:ba,tag:t,description:e}),Ve||(n.description=e),n},za=mr?function(t){return"symbol"==typeof t}:function(t){return Object(t)instanceof Pa},Ya=function(t,e,n){t===Ta&&Ya(ja,e,n),En(t);var r=en(e,!0);return En(n),rn(_a,r)?(n.enumerable?(rn(t,ma)&&t[ma][r]&&(t[ma][r]=!1),n=qr(n,{enumerable:He(0,!1)})):(rn(t,ma)||xa(t,ma,He(1,{})),t[ma][r]=!0),Na(t,r,n)):xa(t,r,n)},Xa=function(t,e){En(t);var n=Qe(e),r=Fr(n).concat(qa(n));return ya(r,(function(e){Ve&&!Wa.call(n,e)||Ya(t,e,n[e])})),t},Wa=function(t){var e=en(t,!0),n=Ca.call(this,e);return!(this===Ta&&rn(_a,e)&&!rn(ja,e))&&(!(n||!rn(this,e)||!rn(_a,e)||rn(this,ma)&&this[ma][e])||n)},Va=function(t,e){var n=Qe(t),r=en(e,!0);if(n!==Ta||!rn(_a,r)||rn(ja,r)){var i=Oa(n,r);return!i||!rn(_a,r)||rn(n,ma)&&n[ma][r]||(i.enumerable=!0),i}},Ua=function(t){var e=Ia(Qe(t)),n=[];return ya(e,(function(t){rn(_a,t)||rn(er,t)||n.push(t)})),n},qa=function(t){var e=t===Ta,n=Ia(e?ja:Qe(t)),r=[];return ya(n,(function(t){!rn(_a,t)||e&&!rn(Ta,t)||r.push(_a[t])})),r};if(yr||(ii((Pa=function(){if(this instanceof Pa)throw TypeError("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,e=Jn(t),n=function(t){this===Ta&&n.call(ja,t),rn(this,ma)&&rn(this[ma],e)&&(this[ma][e]=!1),Na(this,e,He(1,t))};return Ve&&Ma&&Na(Ta,e,{configurable:!0,set:n}),Fa(e,t)}).prototype,"toString",(function(){return wa(this).tag})),ii(Pa,"withoutSetter",(function(t){return Fa(Jn(t),t)})),Ge.f=Wa,Tn.f=Ya,ln.f=Va,ra.f=pa.f=Ua,ia.f=qa,da.f=function(t){return Fa(wr(t),t)},Ve&&xa(Pa.prototype,"description",{configurable:!0,get:function(){return wa(this).description}})),xn({global:!0,wrap:!0,forced:!yr,sham:!yr},{Symbol:Pa}),ya(Fr(La),(function(t){ga(t)})),xn({target:ba,stat:!0,forced:!yr},{for:function(t){var e=String(t);if(rn(ka,e))return ka[e];var n=Pa(e);return ka[e]=n,Ra[n]=e,n},keyFor:function(t){if(!za(t))throw TypeError(t+" is not a symbol");if(rn(Ra,t))return Ra[t]},useSetter:function(){Ma=!0},useSimple:function(){Ma=!1}}),xn({target:"Object",stat:!0,forced:!yr,sham:!Ve},{create:function(t,e){return void 0===e?qr(t):Xa(qr(t),e)},defineProperty:Ya,defineProperties:Xa,getOwnPropertyDescriptor:Va}),xn({target:"Object",stat:!0,forced:!yr},{getOwnPropertyNames:Ua,getOwnPropertySymbols:qa}),xn({target:"Object",stat:!0,forced:We((function(){ia.f(1)}))},{getOwnPropertySymbols:function(t){return ia.f(fr(t))}}),Aa){var Ga=!yr||We((function(){var t=Pa();return"[null]"!=Aa([t])||"{}"!=Aa({a:t})||"{}"!=Aa(Object(t))}));xn({target:"JSON",stat:!0,forced:Ga},{stringify:function(t,e,n){for(var r,i=[t],o=1;arguments.length>o;)i.push(arguments[o++]);if(r=e,(tn(e)||void 0!==t)&&!za(t))return Gi(e)||(e=function(t,e){if("function"==typeof r&&(e=r.call(this,t,e)),!za(e))return e}),i[1]=e,Aa.apply(null,i)}})}Pa.prototype[Sa]||Pn(Pa.prototype,Sa,Pa.prototype.valueOf),ti(Pa,ba),er[ma]=!0;var Ha=mn.Object.getOwnPropertySymbols,$a=We((function(){Fr(1)}));xn({target:"Object",stat:!0,forced:$a},{keys:function(t){return Fr(fr(t))}});var Ba,Za,Ka=mn.Object.keys,Ja=[].join,Qa=rt!=Object,ts=(Ba=",",!!(Za=[]["join"])&&t((function(){Za.call(null,Ba||function(){throw 1},1)})));re({target:"Array",proto:!0,forced:Qa||!ts},{join:function(t){return Ja.call(ot(this),void 0===t?",":t)}});var es=Math.floor,ns="".replace,rs=/\$([$&'`]|\d\d?|<[^>]*>)/g,is=/\$([$&'`]|\d\d?)/g,os=function(t,e,n,r,i,o){var a=n+t.length,s=r.length,c=is;return void 0!==i&&(i=function(t){return Object(it(t))}(i),c=rs),ns.call(o,c,(function(o,c){var u;switch(c.charAt(0)){case"$":return"$";case"&":return t;case"`":return e.slice(0,n);case"'":return e.slice(a);case"<":u=i[c.slice(1,-1)];break;default:var l=+c;if(0===l)return o;if(l>s){var h=es(l/10);return 0===h?o:h<=s?void 0===r[h-1]?c.charAt(1):r[h-1]+c.charAt(1):o}u=r[l-1]}return void 0===u?"":u}))},as=Math.max,ss=Math.min;Ie("replace",2,(function(t,e,n,r){var i=r.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,o=r.REPLACE_KEEPS_$0,a=i?"$":"$0";return[function(n,r){var i=it(this),o=null==n?void 0:n[t];return void 0!==o?o.call(n,i,r):e.call(String(i),n,r)},function(t,r){if(!i&&o||"string"==typeof r&&-1===r.indexOf(a)){var s=n(e,t,this,r);if(s.done)return s.value}var c=m(t),u=String(this),l="function"==typeof r;l||(r=String(r));var h=c.global;if(h){var f=c.unicode;c.lastIndex=0}for(var p=[];;){var d=De(c,u);if(null===d)break;if(p.push(d),!h)break;""===String(d[0])&&(c.lastIndex=Le(u,lt(c.lastIndex),f))}for(var v,g="",y=0,b=0;b<p.length;b++){d=p[b];for(var S=String(d[0]),E=as(ss(ct(d.index),u.length),0),w=[],T=1;T<d.length;T++)w.push(void 0===(v=d[T])?v:String(v));var P=d.groups;if(l){var A=[S].concat(w,E,u);void 0!==P&&A.push(P);var O=String(r.apply(void 0,A))}else O=os(S,u,E,w,P,r);E>=y&&(g+=u.slice(y,E)+O,y=E+S.length)}return g+u.slice(y)}]}));var cs=Ge.f,us=function(t){return function(e){for(var n,r=Qe(e),i=Fr(r),o=i.length,a=0,s=[];o>a;)n=i[a++],Ve&&!cs.call(r,n)||s.push(t?[n,r[n]]:r[n]);return s}},ls={entries:us(!0),values:us(!1)}.entries;xn({target:"Object",stat:!0},{entries:function(t){return ls(t)}});var hs=mn.Object.entries,fs=function(t){return function(e,n,r,i){bn(n);var o=fr(e),a=Ke(o),s=Cr(o.length),c=t?s-1:0,u=t?-1:1;if(r<2)for(;;){if(c in a){i=a[c],c+=u;break}if(c+=u,t?c<0:s<=c)throw TypeError("Reduce of empty array with no initial value")}for(;t?c>=0:s>c;c+=u)c in a&&(i=n(i,a[c],c,o));return i}},ps={left:fs(!1),right:fs(!0)},ds="process"==Be(Xe.process),vs=ps.left,gs=Ji("reduce"),ys=no("reduce",{1:0});xn({target:"Array",proto:!0,forced:!gs||!ys||!ds&&Ao>79&&Ao<83},{reduce:function(t){return vs(this,t,arguments.length,arguments.length>1?arguments[1]:void 0)}});var ms=Di("Array").reduce,bs=Array.prototype,Ss=function(t){var e=t.reduce;return t===bs||t instanceof Array&&e===bs.reduce?ms:e},Es=Ki.filter,ws=xo("filter"),Ts=no("filter");xn({target:"Array",proto:!0,forced:!ws||!Ts},{filter:function(t){return Es(this,t,arguments.length>1?arguments[1]:void 0)}});var Ps=Di("Array").filter,As=Array.prototype,Os=function(t){var e=t.filter;return t===As||t instanceof Array&&e===As.filter?Ps:e},xs=Ki.findIndex,Is="findIndex",Cs=!0,_s=no(Is);Is in[]&&Array(1).findIndex((function(){Cs=!1})),xn({target:"Array",proto:!0,forced:Cs||!_s},{findIndex:function(t){return xs(this,t,arguments.length>1?arguments[1]:void 0)}});var js=Di("Array").findIndex,ks=Array.prototype,Rs=function(t){var e=t.findIndex;return t===ks||t instanceof Array&&e===ks.findIndex?js:e};xn({target:"Array",stat:!0},{isArray:Gi});var Ls=mn.Array.isArray,Ds=Ls;var Ms=function(t){if(Ds(t))return t},Ns=function(t){var e=Ti(t);if("function"!=typeof e)throw TypeError(String(t)+" is not iterable");return En(e.call(t))},Fs=wr("iterator"),zs=function(t){var e=Object(t);return void 0!==e[Fs]||"@@iterator"in e||ei.hasOwnProperty(Zr(e))};ga("asyncIterator");ga("hasInstance"),ga("isConcatSpreadable"),ga("iterator"),ga("match"),ga("matchAll"),ga("replace"),ga("search"),ga("species"),ga("split"),ga("toPrimitive"),ga("toStringTag"),ga("unscopables"),ti(Xe.JSON,"JSON",!0);var Ys=mn.Symbol;ga("asyncDispose"),ga("dispose"),ga("observable"),ga("patternMatch"),ga("replaceAll");var Xs=Ys;var Ws=function(t,e){if(void 0!==Xs&&zs(Object(t))){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=Ns(t);!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}},Vs=Ci,Us=xo("slice"),qs=no("slice",{ACCESSORS:!0,0:0,1:2}),Gs=wr("species"),Hs=[].slice,$s=Math.max;xn({target:"Array",proto:!0,forced:!Us||!qs},{slice:function(t,e){var n,r,i,o=Qe(this),a=Cr(o.length),s=kr(t,a),c=kr(void 0===e?a:e,a);if(Gi(o)&&("function"!=typeof(n=o.constructor)||n!==Array&&!Gi(n.prototype)?tn(n)&&null===(n=n[Gs])&&(n=void 0):n=void 0,n===Array||void 0===n))return Hs.call(o,s,c);for(r=new(void 0===n?Array:n)($s(c-s,0)),i=0;s<c;s++,i++)s in o&&Ei(r,i,o[s]);return r.length=i,r}});var Bs=Di("Array").slice,Zs=Array.prototype,Ks=function(t){var e=t.slice;return t===Zs||t instanceof Array&&e===Zs.slice?Bs:e},Js=Ks;var Qs=function(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r};var tc=function(t,e){var n;if(t){if("string"==typeof t)return Qs(t,e);var r=Js(n=Object.prototype.toString.call(t)).call(n,8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Vs(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Qs(t,e):void 0}};var ec=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")};var nc=function(t,e){return Ms(t)||Ws(t,e)||tc(t,e)||ec()},rc=Ki.map,ic=xo("map"),oc=no("map");xn({target:"Array",proto:!0,forced:!ic||!oc},{map:function(t){return rc(this,t,arguments.length>1?arguments[1]:void 0)}});var ac=Di("Array").map,sc=Array.prototype,cc=function(t){var e=t.map;return t===sc||t instanceof Array&&e===sc.map?ac:e},uc=Ki.find,lc="find",hc=!0,fc=no(lc);lc in[]&&Array(1).find((function(){hc=!1})),xn({target:"Array",proto:!0,forced:hc||!fc},{find:function(t){return uc(this,t,arguments.length>1?arguments[1]:void 0)}});var pc=Di("Array").find,dc=Array.prototype,vc=function(t){var e=t.find;return t===dc||t instanceof Array&&e===dc.find?pc:e},gc=[],yc=gc.sort,mc=We((function(){gc.sort(void 0)})),bc=We((function(){gc.sort(null)})),Sc=Ji("sort");xn({target:"Array",proto:!0,forced:mc||!bc||!Sc},{sort:function(t){return void 0===t?yc.call(fr(this)):yc.call(fr(this),bn(t))}});var Ec=Di("Array").sort,wc=Array.prototype,Tc=function(t){var e=t.sort;return t===wc||t instanceof Array&&e===wc.sort?Ec:e},Pc=Ks,Ac="\t\n\v\f\r                　\u2028\u2029\ufeff",Oc="["+Ac+"]",xc=RegExp("^"+Oc+Oc+"*"),Ic=RegExp(Oc+Oc+"*$"),Cc=function(t){return function(e){var n=String(Je(e));return 1&t&&(n=n.replace(xc,"")),2&t&&(n=n.replace(Ic,"")),n}},_c={start:Cc(1),end:Cc(2),trim:Cc(3)},jc=_c.trim;xn({target:"String",proto:!0,forced:function(t){return We((function(){return!!Ac[t]()||"​᠎"!="​᠎"[t]()||Ac[t].name!==t}))}("trim")},{trim:function(){return jc(this)}});var kc=Di("String").trim,Rc=String.prototype,Lc=function(t){var e=t.trim;return"string"==typeof t||t===Rc||t instanceof String&&e===Rc.trim?kc:e},Dc=Object.assign,Mc=Object.defineProperty,Nc=!Dc||We((function(){if(Ve&&1!==Dc({b:1},Dc(Mc({},"a",{enumerable:!0,get:function(){Mc(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var t={},e={},n=Symbol(),r="abcdefghijklmnopqrst";return t[n]=7,r.split("").forEach((function(t){e[t]=t})),7!=Dc({},t)[n]||Fr(Dc({},e)).join("")!=r}))?function(t,e){for(var n=fr(t),r=arguments.length,i=1,o=ia.f,a=Ge.f;r>i;)for(var s,c=Ke(arguments[i++]),u=o?Fr(c).concat(o(c)):Fr(c),l=u.length,h=0;l>h;)s=u[h++],Ve&&!a.call(c,s)||(n[s]=c[s]);return n}:Dc;xn({target:"Object",stat:!0,forced:Object.assign!==Nc},{assign:Nc});var Fc=mn.Object.assign;xn({target:"Object",stat:!0,sham:!Ve},{create:qr});var zc=mn.Object,Yc=function(t,e){return zc.create(t,e)},Xc=Ls;xn({target:"Date",stat:!0},{now:function(){return(new Date).getTime()}});var Wc=mn.Date.now;function Vc(t,e){var n=Ka(t);if(Ha){var r=Ha(t);e&&(r=Os(r).call(r,(function(e){return ua(t,e).enumerable}))),n.push.apply(n,r)}return n}function Uc(t){for(var e=1;e<arguments.length;e++){var n,r=null!=arguments[e]?arguments[e]:{};if(e%2)lo(n=Vc(Object(r),!0)).call(n,(function(e){Ko(t,e,r[e])}));else if(aa)ea(t,aa(r));else{var i;lo(i=Vc(Object(r))).call(i,(function(e){ta(t,e,ua(r,e))}))}}return t}var qc=["","webkit","Moz","MS","ms","o"],Gc=Math.round,Hc=Math.abs,$c=Wc;function Bc(t,e,n){return!!Xc(t)&&(Zc(t,n[e],n),!0)}function Zc(t,e,n){var r;if(t)if(lo(t))lo(t).call(t,e,n);else if(void 0!==t.length)for(r=0;r<t.length;)e.call(n,t[r],r,t),r++;else for(r in t)Object.hasOwnProperty.call(t,r)&&e.call(n,t[r],r,t)}function Kc(t,e,n){var r,i=e.prototype;(r=t.prototype=Yc(i)).constructor=t,r._super=i,n&&Fc(r,n)}function Jc(t,e){return"function"==typeof t?t.apply(e&&e[0]||void 0,e):t}function Qc(t,e){return void 0===t?e:t}function tu(t,e,n){var r;lo(r=iu(e)).call(r,(function(e){return t.addEventListener(e,n,!1)}))}function eu(t,e,n){var r;lo(r=iu(e)).call(r,(function(e){return t.removeEventListener(e,n,!1)}))}function nu(t,e){for(;t;){if(t==e)return!0;t=t.parentNode}return!1}function ru(t,e){return Eo(t).call(t,e)>-1}function iu(t){return Lc(t).call(t).split(/\s+/g)}var ou=function(t){return Pc(Array.prototype).call(t,0)};function au(t,e,n){var r=[],i=[];return lo(t).call(t,(function(t,n){var o=e?t[e]:t;Eo(i).call(i,o)<0&&r.push(t),i[n]=o})),n&&Tc(r).call(r,e?function(t,n){return t[e]>n[e]}:void 0),r}function su(t,e){var n=e[0].toUpperCase()+Pc(e).call(e,1);return vc(qc).call(qc,(function(r){return(r?r+n:e)in t}))}var cu=1;function uu(t){var e=t.ownerDocument||t;return e.defaultView||e.parentWindow||"undefined"!=typeof window&&window}var lu=/mobile|tablet|ip(ad|hone|od)|android/i,hu=function(){return"undefined"!=typeof window&&"ontouchstart"in window},fu="touch",pu="mouse",du=24,vu=["x","y"],gu=["clientX","clientY"];function yu(t,e){var n=this;this.manager=t,this.callback=e,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(e){Jc(t.options.enable,[t])&&n.handler(e)},this.init()}function mu(t){var e=t.options.inputClass;return new(e||("undefined"!=typeof window&&void 0!==su(window,"PointerEvent")?Mu:hu()&&lu.test(navigator.userAgent)?Vu:hu()?qu:ju))(t,bu)}function bu(t,e,n){var r=n.pointers.length,i=n.changedPointers.length,o=1&e&&r-i==0,a=12&e&&r-i==0;n.isFirst=!!o,n.isFinal=!!a,o&&(t.session={}),n.eventType=e,function(t,e){var n=t.session,r=e.pointers,i=r.length;n.firstInput||(n.firstInput=Su(e));i>1&&!n.firstMultiple?n.firstMultiple=Su(e):1===i&&(n.firstMultiple=!1);var o=n.firstInput,a=n.firstMultiple,s=a?a.center:o.center,c=e.center=Eu(r);e.timeStamp=$c(),e.deltaTime=e.timeStamp-o.timeStamp,e.angle=Au(s,c),e.distance=Pu(s,c),function(t,e){var n=e.center,r=t.offsetDelta||{},i=t.prevDelta||{},o=t.prevInput||{};1!==e.eventType&&4!==o.eventType||(i=t.prevDelta={x:o.deltaX||0,y:o.deltaY||0},r=t.offsetDelta={x:n.x,y:n.y});e.deltaX=i.x+(n.x-r.x),e.deltaY=i.y+(n.y-r.y)}(n,e),e.offsetDirection=Tu(e.deltaX,e.deltaY);var u=wu(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=u.x,e.overallVelocityY=u.y,e.overallVelocity=Hc(u.x)>Hc(u.y)?u.x:u.y,e.scale=a?xu(a.pointers,r):1,e.rotation=a?Ou(a.pointers,r):0,e.maxPointers=n.prevInput?e.pointers.length>n.prevInput.maxPointers?e.pointers.length:n.prevInput.maxPointers:e.pointers.length,function(t,e){var n,r,i,o,a=t.lastInterval||e,s=e.timeStamp-a.timeStamp;if(8!=e.eventType&&(s>25||void 0===a.velocity)){var c=e.deltaX-a.deltaX,u=e.deltaY-a.deltaY,l=wu(s,c,u);r=l.x,i=l.y,n=Hc(l.x)>Hc(l.y)?l.x:l.y,o=Tu(c,u),t.lastInterval=e}else n=a.velocity,r=a.velocityX,i=a.velocityY,o=a.direction;e.velocity=n,e.velocityX=r,e.velocityY=i,e.direction=o}(n,e);var l=t.element;nu(e.srcEvent.target,l)&&(l=e.srcEvent.target);e.target=l}(t,n),t.emit("hammer.input",n),t.recognize(n),t.session.prevInput=n}function Su(t){var e,n=cc(e=t.pointers).call(e,(function(t){return{clientX:Gc(t.clientX),clientY:Gc(t.clientY)}}));return{timeStamp:$c(),pointers:n,center:Eu(n),deltaX:t.deltaX,deltaY:t.deltaY}}function Eu(t){var e=t.length;if(1===e)return{x:Gc(t[0].clientX),y:Gc(t[0].clientY)};var n=0,r=0;return lo(t).call(t,(function(t){var e=t.clientX,i=t.clientY;n+=e,r+=i})),{x:Gc(n/e),y:Gc(r/e)}}yu.prototype={handler:function(){},init:function(){this.evEl&&tu(this.element,this.evEl,this.domHandler),this.evTarget&&tu(this.target,this.evTarget,this.domHandler),this.evWin&&tu(uu(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&eu(this.element,this.evEl,this.domHandler),this.evTarget&&eu(this.target,this.evTarget,this.domHandler),this.evWin&&eu(uu(this.element),this.evWin,this.domHandler)}};var wu=function(t,e,n){return{x:e/t||0,y:n/t||0}};function Tu(t,e){return t===e?1:Hc(t)>=Hc(e)?t<0?2:4:e<0?8:16}var Pu=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:vu,r=nc(n,2),i=r[0],o=r[1];return Math.sqrt(Math.pow(e[i]-t[i],2)+Math.pow(e[o]-t[o],2))},Au=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:vu,r=nc(n,2),i=r[0],o=r[1];return 180*Math.atan2(e[o]-t[o],e[i]-t[i])/Math.PI},Ou=function(t,e){return Au(e[1],e[0],gu)+Au(t[1],t[0],gu)},xu=function(t,e){return Pu(e[0],e[1],gu)/Pu(t[0],t[1],gu)},Iu={mousedown:1,mousemove:2,mouseup:4},Cu="mousedown",_u="mousemove mouseup";function ju(){this.evEl=Cu,this.evWin=_u,this.pressed=!1,yu.apply(this,arguments)}Kc(ju,yu,{handler:function(t){var e=Iu[t.type];1&e&&0===t.button&&(this.pressed=!0),2&e&&1!==t.which&&(e=4),this.pressed&&(4&e&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:pu,srcEvent:t}))}});var ku={pointerdown:1,pointermove:2,pointerup:4,pointercancel:8,pointerout:8},Ru={2:fu,3:"pen",4:pu,5:"kinect"},Lu="pointerdown",Du="pointermove pointerup pointercancel";function Mu(){this.evEl=Lu,this.evWin=Du,yu.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}"undefined"!=typeof window&&window.MSPointerEvent&&!window.PointerEvent&&(Lu="MSPointerDown",Du="MSPointerMove MSPointerUp MSPointerCancel"),Kc(Mu,yu,{handler:function(t){var e=this.store,n=!1,r=t.type.toLowerCase().replace("ms",""),i=ku[r],o=Ru[t.pointerType]||t.pointerType,a=o==fu,s=Rs(e).call(e,(function(e){return e.pointerId==t.pointerId}));1&i&&(0===t.button||a)?s<0&&(e.push(t),s=e.length-1):12&i&&(n=!0),s<0||(e[s]=t,this.callback(this.manager,i,{pointers:e,changedPointers:[t],pointerType:o,srcEvent:t}),n&&Mo(e).call(e,s,1))}});var Nu={touchstart:1,touchmove:2,touchend:4,touchcancel:8},Fu="touchstart",zu="touchstart touchmove touchend touchcancel";function Yu(){this.evTarget=Fu,this.evWin=zu,this.started=!1,yu.apply(this,arguments)}Kc(Yu,yu,{handler:function(t){var e=Nu[t.type];if(1===e&&(this.started=!0),this.started){var n=function(t,e){var n=ou(t.touches),r=ou(t.changedTouches);12&e&&(n=au(Zo(n).call(n,r),"identifier",!0));return[n,r]}(t,e),r=nc(n,2),i=r[0],o=r[1];12&e&&i.length-o.length==0&&(this.started=!1),this.callback(this.manager,e,{pointers:i,changedPointers:o,pointerType:fu,srcEvent:t})}}});var Xu={touchstart:1,touchmove:2,touchend:4,touchcancel:8},Wu="touchstart touchmove touchend touchcancel";function Vu(){this.evTarget=Wu,this.targetIds={},yu.apply(this,arguments)}function Uu(t,e){var n=ou(t.touches),r=this.targetIds;if(3&e&&1===n.length)return r[n[0].identifier]=!0,[n,n];var i,o=ou(t.changedTouches),a=[],s=this.target;return i=Os(n).call(n,(function(t){return nu(t.target,s)})),1===e&&lo(i).call(i,(function(t){r[t.identifier]=!0})),lo(o).call(o,(function(t){r[t.identifier]&&a.push(t),12&e&&delete r[t.identifier]})),a.length?[au(Zo(i).call(i,a),"identifier",!0),a]:void 0}Kc(Vu,yu,{handler:function(t){var e=Xu[t.type],n=Uu.call(this,t,e);n&&this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:fu,srcEvent:t})}});function qu(){var t;yu.apply(this,arguments);var e=Fi(t=this.handler).call(t,this);this.touch=new Vu(this.manager,e),this.mouse=new ju(this.manager,e),this.primaryTouch=null,this.lastTouches=[]}function Gu(t,e){1&t?(this.primaryTouch=e.changedPointers[0].identifier,Hu.call(this,e)):12&t&&Hu.call(this,e)}function Hu(t){var e=t.changedPointers[0];if(e.identifier===this.primaryTouch){var n={x:e.clientX,y:e.clientY};this.lastTouches.push(n);var r=this.lastTouches;Ln((function(){var t=Eo(r).call(r,n);t>-1&&Mo(r).call(r,t,1)}),2500)}}function $u(t){var e,n=t.srcEvent,r=n.clientX,i=n.clientY;return!!vc(e=this.lastTouches).call(e,(function(t){return Math.abs(r-t.x)<=25&&Math.abs(i-t.y)<=25}))}Kc(qu,yu,{handler:function(t,e,n){var r=n.pointerType==fu,i=n.pointerType==pu;if(!(i&&n.sourceCapabilities&&n.sourceCapabilities.firesTouchEvents)){if(r)Gu.call(this,e,n);else if(i&&$u.call(this,n))return;this.callback(t,e,n)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var Bu=function(){var t="undefined"!=typeof document&&document.createElement("div");if(t)return su(t.style,"touchAction")},Zu=function(){return void 0!==Bu()},Ku="compute",Ju="auto",Qu="manipulation",tl="none",el="pan-x",nl="pan-y";function rl(t,e){this.manager=t,this.set(e)}rl.prototype={set:function(t){var e;t==Ku&&(t=this.compute());var n=ol();Zu()&&this.manager.element.style&&n[t]&&(this.manager.element.style[Bu()]=t),this.actions=Lc(e=t.toLowerCase()).call(e)},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var t,e=[];return lo(t=this.manager.recognizers).call(t,(function(t){Jc(t.options.enable,[t])&&(e=Zo(e).call(e,t.getTouchAction()))})),function(t){if(ru(t,tl))return tl;var e=ru(t,el),n=ru(t,nl);return e&&n?tl:e||n?e?el:nl:ru(t,Qu)?Qu:Ju}(e.join(" "))},preventDefaults:function(t){var e=t.srcEvent,n=t.offsetDirection;if(this.manager.session.prevented)e.preventDefault();else{var r=this.actions,i=ol(),o=ru(r,tl)&&!i.none,a=ru(r,nl)&&!i["pan-y"],s=ru(r,el)&&!i["pan-x"];if(o){var c=1===t.pointers.length,u=t.distance<2,l=t.deltaTime<250;if(c&&u&&l)return}if(!s||!a)return o||a&&6&n||s&&n&du?this.preventSrc(e):void 0}},preventSrc:function(t){this.manager.session.prevented=!0,t.preventDefault()}};var il=["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"];function ol(){if(!Zu())return!1;var t="undefined"!=typeof window&&window.CSS&&window.CSS.supports;return Ss(il).call(il,(function(e,n){return e[n]=!t||window.CSS.supports("touch-action",n),e}),{})}var al=32;function sl(t){this.options=Uc(Uc({},this.defaults),t),this.id=cu++,this.manager=null,this.options.enable=Qc(this.options.enable,!0),this.state=1,this.simultaneous={},this.requireFail=[]}function cl(t){return 16&t?"cancel":8&t?"end":4&t?"move":2&t?"start":""}function ul(t){return 16==t?"down":8==t?"up":2==t?"left":4==t?"right":""}sl.prototype={defaults:{},set:function(t){return Fc(this.options,t),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(t){if(Bc(t,"recognizeWith",this))return this;var e=this.simultaneous;return e[(t=ll(t,this)).id]||(e[t.id]=t,t.recognizeWith(this)),this},dropRecognizeWith:function(t){return Bc(t,"dropRecognizeWith",this)||(t=ll(t,this),delete this.simultaneous[t.id]),this},requireFailure:function(t){if(Bc(t,"requireFailure",this))return this;var e=this.requireFail;return t=ll(t,this),-1===Eo(e).call(e,t)&&(e.push(t),t.requireFailure(this)),this},dropRequireFailure:function(t){var e,n;if(Bc(t,"dropRequireFailure",this))return this;t=ll(t,this);var r=Eo(e=this.requireFail).call(e,t);return r>-1&&Mo(n=this.requireFail).call(n,r,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(t){return!!this.simultaneous[t.id]},emit:function(t){var e=this,n=this.state;function r(n){e.manager.emit(n,t)}n<8&&r(e.options.event+cl(n)),r(e.options.event),t.additionalEvent&&r(t.additionalEvent),n>=8&&r(e.options.event+cl(n))},tryEmit:function(t){if(this.canEmit())return this.emit(t);this.state=al},canEmit:function(){for(var t=0;t<this.requireFail.length;){if(!(33&this.requireFail[t].state))return!1;t++}return!0},recognize:function(t){var e=Uc({},t);if(!Jc(this.options.enable,[this,e]))return this.reset(),void(this.state=al);56&this.state&&(this.state=1),this.state=this.process(e),30&this.state&&this.tryEmit(e)},process:function(){},getTouchAction:function(){},reset:function(){}};var ll=function(t,e){var n=e.manager;return n?n.get(t):t};function hl(){sl.apply(this,arguments)}function fl(){hl.apply(this,arguments),this.pX=null,this.pY=null}function pl(){hl.apply(this,arguments)}function dl(){sl.apply(this,arguments),this._timer=null,this._input=null}function vl(){hl.apply(this,arguments)}function gl(){hl.apply(this,arguments)}function yl(){sl.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function ml(t,e){return(e=e||{}).recognizers=Qc(e.recognizers,ml.defaults.preset),new bl(t,e)}Kc(hl,sl,{defaults:{pointers:1},attrTest:function(t){var e=this.options.pointers;return 0===e||t.pointers.length===e},process:function(t){var e=this.state,n=t.eventType,r=6&e,i=this.attrTest(t);return r&&(8&n||!i)?16|e:r||i?4&n?8|e:2&e?4|e:2:al}}),Kc(fl,hl,{defaults:{event:"pan",threshold:10,pointers:1,direction:30},getTouchAction:function(){var t=this.options.direction,e=[];return 6&t&&e.push(nl),t&du&&e.push(el),e},directionTest:function(t){var e=this.options,n=!0,r=t.distance,i=t.direction,o=t.deltaX,a=t.deltaY;return i&e.direction||(6&e.direction?(i=0===o?1:o<0?2:4,n=o!=this.pX,r=Math.abs(t.deltaX)):(i=0===a?1:a<0?8:16,n=a!=this.pY,r=Math.abs(t.deltaY))),t.direction=i,n&&r>e.threshold&&i&e.direction},attrTest:function(t){return hl.prototype.attrTest.call(this,t)&&(2&this.state||!(2&this.state)&&this.directionTest(t))},emit:function(t){this.pX=t.deltaX,this.pY=t.deltaY;var e=ul(t.direction);e&&(t.additionalEvent=this.options.event+e),this._super.emit.call(this,t)}}),Kc(pl,hl,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[tl]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.scale-1)>this.options.threshold||2&this.state)},emit:function(t){if(1!==t.scale){var e=t.scale<1?"in":"out";t.additionalEvent=this.options.event+e}this._super.emit.call(this,t)}}),Kc(dl,sl,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[Ju]},process:function(t){var e=this,n=this.options,r=t.pointers.length===n.pointers,i=t.distance<n.threshold,o=t.deltaTime>n.time;if(this._input=t,!i||!r||12&t.eventType&&!o)this.reset();else if(1&t.eventType)this.reset(),this._timer=Ln((function(){e.state=8,e.tryEmit()}),n.time);else if(4&t.eventType)return 8;return al},reset:function(){clearTimeout(this._timer)},emit:function(t){8===this.state&&(t&&4&t.eventType?this.manager.emit(this.options.event+"up",t):(this._input.timeStamp=$c(),this.manager.emit(this.options.event,this._input)))}}),Kc(vl,hl,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[tl]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.rotation)>this.options.threshold||2&this.state)}}),Kc(gl,hl,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:30,pointers:1},getTouchAction:function(){return fl.prototype.getTouchAction.call(this)},attrTest:function(t){var e,n=this.options.direction;return 30&n?e=t.overallVelocity:6&n?e=t.overallVelocityX:n&du&&(e=t.overallVelocityY),this._super.attrTest.call(this,t)&&n&t.offsetDirection&&t.distance>this.options.threshold&&t.maxPointers==this.options.pointers&&Hc(e)>this.options.velocity&&4&t.eventType},emit:function(t){var e=ul(t.offsetDirection);e&&this.manager.emit(this.options.event+e,t),this.manager.emit(this.options.event,t)}}),Kc(yl,sl,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[Qu]},process:function(t){var e=this,n=this.options,r=t.pointers.length===n.pointers,i=t.distance<n.threshold,o=t.deltaTime<n.time;if(this.reset(),1&t.eventType&&0===this.count)return this.failTimeout();if(i&&o&&r){if(4!=t.eventType)return this.failTimeout();var a=!this.pTime||t.timeStamp-this.pTime<n.interval,s=!this.pCenter||Pu(this.pCenter,t.center)<n.posThreshold;if(this.pTime=t.timeStamp,this.pCenter=t.center,s&&a?this.count+=1:this.count=1,this._input=t,0===this.count%n.taps)return this.hasRequireFailures()?(this._timer=Ln((function(){e.state=8,e.tryEmit()}),n.interval),2):8}return al},failTimeout:function(){var t=this;return this._timer=Ln((function(){t.state=al}),this.options.interval),al},reset:function(){clearTimeout(this._timer)},emit:function(){8==this.state&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),ml.VERSION="2.0.7",ml.defaults={domEvents:!1,touchAction:Ku,enable:!0,inputTarget:null,inputClass:null,preset:[[vl,{enable:!1}],[pl,{enable:!1},["rotate"]],[gl,{direction:6}],[fl,{direction:6},["swipe"]],[yl],[yl,{event:"doubletap",taps:2},["tap"]],[dl]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};function bl(t,e){var n,r=this;(this.options=Uc(Uc({},ml.defaults),e),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=t,this.input=mu(this),this.touchAction=new rl(this,this.options.touchAction),Sl(this,!0),this.options.recognizers)&&lo(n=this.options.recognizers).call(n,(function(t){var e=r.add(new t[0](t[1]));t[2]&&e.recognizeWith(t[2]),t[3]&&e.requireFailure(t[3])}))}function Sl(t,e){var n,r,i=t.element;i.style&&(lo(n=hs(t.options.cssProps)).call(n,(function(n){var o=nc(n,2),a=o[0],s=o[1];r=su(i.style,s),e?(t.oldCssProps[r]=i.style[r],i.style[r]=a):i.style[r]=t.oldCssProps[r]||""})),e||(t.oldCssProps={}))}bl.prototype={set:function(t){return Fc(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},stop:function(t){this.session.stopped=t?2:1},recognize:function(t){var e=this.session;if(!e.stopped){this.touchAction.preventDefaults(t);var n=this.recognizers,r=e.curRecognizer;(!r||r&&8&r.state)&&(r=e.curRecognizer=null),lo(n).call(n,(function(n){2===e.stopped||r&&n!=r&&!n.canRecognizeWith(r)?n.reset():n.recognize(t),!r&&14&n.state&&(r=e.curRecognizer=n)}))}},get:function(t){var e;return t instanceof sl?t:vc(e=this.recognizers).call(e,(function(e){return e.options.event==t}))||null},add:function(t){if(Bc(t,"add",this))return this;var e=this.get(t.options.event);return e&&this.remove(e),this.recognizers.push(t),t.manager=this,this.touchAction.update(),t},remove:function(t){if(Bc(t,"remove",this))return this;if(t=this.get(t)){var e,n,r=Eo(e=this.recognizers).call(e,t);if(-1!==r)Mo(n=this.recognizers).call(n,r,1),this.touchAction.update()}return this},on:function(t,e){var n;if(void 0!==t&&void 0!==e){var r=this.handlers;return lo(n=iu(t)).call(n,(function(t){r[t]=r[t]||[],r[t].push(e)})),this}},off:function(t,e){var n;if(void 0!==t){var r=this.handlers;return lo(n=iu(t)).call(n,(function(t){if(e){if(r[t]){var n,i;Mo(n=r[t]).call(n,Eo(i=r[t]).call(i,e),1)}}else delete r[t]})),this}},emit:function(t,e){var n;this.options.domEvents&&function(t,e){var n=document.createEvent("Event");n.initEvent(t,!0,!0),n.gesture=e,e.target.dispatchEvent(n)}(t,e);var r=this.handlers[t]&&Pc(n=this.handlers[t]).call(n);r&&r.length&&(e.type=t,e.preventDefault=function(){e.srcEvent.preventDefault()},lo(r).call(r,(function(t){return t(e)})))},destroy:function(){this.element&&Sl(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},Fc(ml,{INPUT_START:1,INPUT_MOVE:2,INPUT_END:4,INPUT_CANCEL:8,STATE_POSSIBLE:1,STATE_BEGAN:2,STATE_CHANGED:4,STATE_ENDED:8,STATE_RECOGNIZED:8,STATE_CANCELLED:16,STATE_FAILED:al,DIRECTION_NONE:1,DIRECTION_LEFT:2,DIRECTION_RIGHT:4,DIRECTION_UP:8,DIRECTION_DOWN:16,DIRECTION_HORIZONTAL:6,DIRECTION_VERTICAL:du,DIRECTION_ALL:30,Manager:bl,Input:yu,TouchAction:rl,TouchInput:Vu,MouseInput:ju,PointerEventInput:Mu,TouchMouseInput:qu,SingleTouchInput:Yu,Recognizer:sl,AttrRecognizer:hl,Tap:yl,Pan:fl,Swipe:gl,Pinch:pl,Rotate:vl,Press:dl,on:tu,off:eu,each:Zc,inherit:Kc,prefixed:su});var El=ml;return function(){function t(e){var n,r,i,o,a,s,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};No(this,t),this.el=e,this.options=c,this.swipeVelocity=null!==(n=this.options.swipeVelocity)&&void 0!==n?n:.3,this.swipeThreshold=null!==(r=this.options.swipeThreshold)&&void 0!==r?r:10,this.navigationDuration=null!==(i=this.options.navigationDuration)&&void 0!==i?i:240,this.navigationPanDuration=null!==(o=this.options.navigationPanDuration)&&void 0!==o?o:200,this.zoomDuration=null!==(a=this.options.zoomDuration)&&void 0!==a?a:200,this.doubleTapDelay=null!==(s=this.options.doubleTapDelay)&&void 0!==s?s:300,this.position=-1,this.pinching=!1,this.panning=!1,this.transform={left:0,top:0,scale:1},this.startTransform={left:0,top:0,scale:1},this.tap={count:0,delay:this.doubleTapDelay},this.started=!1,this.destroyed=!1,this._events={}}return Xo(t,[{key:"bind",value:function(t,e){return this._events[t]=this._events[t]||[],this._events[t].push(e)}},{key:"unbind",value:function(t,e){var n,r;if(this._events[t])return Mo(n=this._events[t]).call(n,Eo(r=this._events[t]).call(r,e),1)}},{key:"trigger",value:function(t){for(var e,n=this,r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];null===(e=this._events[t])||void 0===e||lo(e).call(e,(function(t){return t.apply(n,i)}))}},{key:"start",value:function(){var t,e,n,r,i,o,a,s,c,u,l,h,f,p,d,v;this.scrollerEl=this.el.querySelector(".verso__scroller"),this.pageSpreadEls=this.el.querySelectorAll(".verso__page-spread"),this.pageSpreads=this.traversePageSpreads(this.pageSpreadEls),this.pageIds=this.buildPageIds(this.pageSpreads),this.animation=new Jo(this.scrollerEl),this.hammer=new El.Manager(this.scrollerEl,{touchAction:"none",enable:!1,inputClass:this.getHammerInputClass()}),this.hammer.add(new El.Pan({threshold:5,direction:El.DIRECTION_ALL})),this.hammer.add(new El.Tap({event:"singletap",interval:0})),this.hammer.add(new El.Pinch),this.hammer.add(new El.Press({time:500})),this.hammer.on("panstart",Fi(t=this.onPanStart).call(t,this)),this.hammer.on("panmove",Fi(e=this.onPanMove).call(e,this)),this.hammer.on("panend",Fi(n=this.onPanEnd).call(n,this)),this.hammer.on("pancancel",Fi(r=this.onPanEnd).call(r,this)),this.hammer.on("singletap",Fi(i=this.onSingletap).call(i,this)),this.hammer.on("pinchstart",Fi(o=this.onPinchStart).call(o,this)),this.hammer.on("pinchmove",Fi(a=this.onPinchMove).call(a,this)),this.hammer.on("pinchend",Fi(s=this.onPinchEnd).call(s,this)),this.hammer.on("pinchcancel",Fi(c=this.onPinchEnd).call(c,this)),this.hammer.on("press",Fi(u=this.onPress).call(u,this)),this.scrollerEl.addEventListener("contextmenu",Fi(l=this.onContextmenu).call(l,this),!1),this.scrollerEl.addEventListener("wheel",Fi(h=this.onWheel).call(h,this),!1);var g=null!==(f=this.getPageSpreadPositionFromPageId(this.options.pageId))&&void 0!==f?f:0;return this.hammer.set({enable:!0}),this.started=!0,this.destroyed=!1,this.navigateTo(g,{duration:0}),this.resizeListener=Fi(p=this.onResize).call(p,this),this.touchStartListener=Fi(d=this.onTouchStart).call(d,this),this.touchEndListener=Fi(v=this.onTouchEnd).call(v,this),this.el.addEventListener("touchstart",this.touchStartListener,!1),this.el.addEventListener("touchend",this.touchEndListener,!1),"undefined"!=typeof window&&null!==window&&window.addEventListener("resize",this.resizeListener,!1),this}},{key:"destroy",value:function(){var t,e;return this.started?this.destroyed?console.warn("You've called .destroy() on a viewer that has already been destroyed and not restarted, this is a no-op."):(this.scrollerEl.removeEventListener("contextmenu",Fi(t=this.onContextmenu).call(t,this)),this.scrollerEl.removeEventListener("wheel",Fi(e=this.onWheel).call(e,this)),this.hammer.destroy(),this.el.removeEventListener("touchstart",this.touchStartListener),this.el.removeEventListener("touchend",this.touchEndListener),window.removeEventListener("resize",this.resizeListener),this.started=!1,this.destroyed=!0,this):console.warn("You've called .destroy() on a viewer that was not started yet, this is a no-op.")}},{key:"first",value:function(t){return this.navigateTo(0,t)}},{key:"prev",value:function(t){return this.navigateTo(this.getPosition()-1,t)}},{key:"next",value:function(t){return this.navigateTo(this.getPosition()+1,t)}},{key:"last",value:function(t){return this.navigateTo(this.getPageSpreadCount()-1,t)}},{key:"navigateTo",value:function(t){var e,n,r,i=this,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.destroyed)return console.warn("You've called a navigation method on a viewer that was previously destroyed, this is a no-op.\nPlease call viewer.start() again, if you want to reuse this Viewer instance.\n\nYou might have forgotten to remove an event handler that\ncalls first/prev/next/last/navigateTo on the viewer.");if(!this.started)return console.warn("\nYou've called a navigation method on a viewer that hasn't been started yet, this is a no-op.\nPlease call viewer.start() first.\n\nYou might have forgotten to remove an event handler that\ncalls .first()/.prev()/.next()/.last()/.navigateTo() on the viewer.\n");if(!(t<0||t>this.getPageSpreadCount()-1)){var a=this.getPosition(),s=this.getPageSpreadFromPosition(a),c=this.getPageSpreadFromPosition(t),u=this.getCarouselFromPageSpread(c),l=null!==(e=o.velocity)&&void 0!==e?e:1,h=null!==(n=o.duration)&&void 0!==n?n:this.navigationDuration;h/=Math.abs(l);var f=c.isScrollable()?"pan-y":"none";null==s||s.deactivate(),c.activate(),lo(r=u.visible).call(r,(function(t){return t.position().setVisibility("visible")})),this.hammer.set({touchAction:f}),this.transform.left=this.getLeftTransformFromPageSpread(t,c),this.setPosition(t),this.transform.scale>1&&(this.transform.top=0,this.transform.scale=1,this.trigger("zoomedOut",{position:a})),this.trigger("beforeNavigation",{currentPosition:a,newPosition:t}),this.animation.animate({x:"".concat(this.transform.left,"%"),duration:h},(function(){var t;u=i.getCarouselFromPageSpread(i.getActivePageSpread()),lo(t=u.gone).call(t,(function(t){return t.setVisibility("gone")})),i.trigger("afterNavigation",{newPosition:i.getPosition(),previousPosition:a})}))}}},{key:"getPosition",value:function(){return this.position}},{key:"setPosition",value:function(t){return this.position=t,this}},{key:"getLeftTransformFromPageSpread",value:function(t,e){var n=0;return t===this.getPageSpreadCount()-1?n=100-e.getWidth()-e.getLeft():t>0&&(n=(100-e.getWidth())/2-e.getLeft()),n}},{key:"getCarouselFromPageSpread",value:function(t){var e,n={visible:[],gone:[]};return lo(e=this.pageSpreads).call(e,(function(e){var r=!1;e.getLeft()<=t.getLeft()?e.getLeft()+e.getWidth()>t.getLeft()-100&&(r=!0):e.getLeft()-e.getWidth()<t.getLeft()+100&&(r=!0),!0===r?n.visible.push(e):n.gone.push(e)})),n}},{key:"traversePageSpreads",value:function(t){for(var e=[],n=0,r=0,i=_i(t);r<i.length;r++){var o,a,s,c=i[r],u=c.getAttribute("data-id"),l=c.getAttribute("data-type"),h=(null===(o=c.getAttribute("data-page-ids"))||void 0===o?void 0:o.split(","))||[],f=Number(null!==(a=c.getAttribute("data-max-zoom-scale"))&&void 0!==a?a:1),p=Number(null!==(s=c.getAttribute("data-width"))&&void 0!==s?s:100),d=new Qo(c,{id:u,type:l,pageIds:h,maxZoomScale:f,width:p,left:n});n+=p,e.push(d)}return e}},{key:"buildPageIds",value:function(t){var e={};return lo(t).call(t,(function(t){var n;lo(n=t.options.pageIds).call(n,(function(n){e[n]=t}))})),e}},{key:"isCoordinateInsideElement",value:function(t,e,n){var r=n.getBoundingClientRect();return t>=r.left&&t<=r.right&&e>=r.top&&e<=r.bottom}},{key:"getCoordinateInfo",value:function(t,e,n){for(var r,i={x:t-=this.el.offsetLeft,y:e-=this.el.offsetTop,contentX:0,contentY:0,pageX:0,pageY:0,overlayEls:[],pageEl:null,isInsideContentX:!1,isInsideContentY:!1,isInsideContent:!1},o=n.getContentRect(),a=n.getOverlayEls(),s=n.getPageEls(),c=0,u=_i(a);c<u.length;c++){var l=u[c];this.isCoordinateInsideElement(t,e,l)&&i.overlayEls.push(l)}for(var h=0,f=_i(s);h<f.length;h++)if(r=f[h],this.isCoordinateInsideElement(t,e,r)){i.pageEl=r;break}return i.contentX=(t-o.left)/Math.max(1,o.width),i.contentY=(e-o.top)/Math.max(1,o.height),i.pageEl&&(i.isInsideContentX=i.contentX>=0&&i.contentX<=1,i.isInsideContentY=i.contentY>=0&&i.contentY<=1,i.isInsideContent=i.isInsideContentX&&i.isInsideContentY),i}},{key:"getPageSpreadCount",value:function(){return this.pageSpreads.length}},{key:"getActivePageSpread",value:function(){return this.getPageSpreadFromPosition(this.getPosition())}},{key:"getPageSpreadFromPosition",value:function(t){return this.pageSpreads[t]}},{key:"getPageSpreadPositionFromPageId",value:function(t){for(var e=0;e<this.pageSpreads.length;e++){var n,r=this.pageSpreads[e];if(Eo(n=r.options.pageIds).call(n,t)>-1)return e}}},{key:"getPageSpreadBounds",value:function(t){var e=t.getRect(),n=t.getContentRect();return{left:(n.left-e.left)/e.width*100,top:(n.top-e.top)/e.height*100,width:n.width/e.width*100,height:n.height/e.height*100,pageSpreadRect:e,pageSpreadContentRect:n}}},{key:"clipCoordinate",value:function(t,e,n,r){return n*e<100?t=r*-e+50-n*e/2:(t=Math.min(t,r*-e),t=Math.max(t,r*-e-n*e+100)),t}},{key:"zoomTo",value:function(){var t,e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0,i=n.scale,o=this.transform.scale,a=this.getActivePageSpread(),s=this.getPageSpreadBounds(a),c=a.getLeft(),u=c*o,l=null!==(t=n.x)&&void 0!==t?t:0,h=null!==(e=n.y)&&void 0!==e?e:0;1!==i?(l-=s.pageSpreadRect.left,h-=s.pageSpreadRect.top,l=l/(s.pageSpreadRect.width/o)*100,h=h/(s.pageSpreadRect.height/o)*100,l=this.transform.left+u+l-l*i/o,h=this.transform.top+h-h*i/o,!1!==n.bounds&&i>1&&(l=this.clipCoordinate(l,i,s.width,s.left),h=this.clipCoordinate(h,i,s.height,s.top))):(l=0,h=0),l-=c*i,this.transform.left=l,this.transform.top=h,this.transform.scale=i,this.animation.animate({x:"".concat(l,"%"),y:"".concat(h,"%"),scale:i,easing:n.easing,duration:n.duration},r)}},{key:"refresh",value:function(){return this.pageSpreadEls=this.el.querySelectorAll(".verso__page-spread"),this.pageSpreads=this.traversePageSpreads(this.pageSpreadEls),this.pageIds=this.buildPageIds(this.pageSpreads),this}},{key:"getHammerInputClass",value:function(){return"undefined"!=typeof window&&"ontouchstart"in window&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent)?El.TouchInput:null}},{key:"onPanStart",value:function(t){if(this.transform.scale>1||t.direction===El.DIRECTION_LEFT||t.direction===El.DIRECTION_RIGHT){var e=t.center.x,n=this.scrollerEl.offsetWidth;e>30&&e<n-30&&(this.startTransform.left=this.transform.left,this.startTransform.top=this.transform.top,this.panning=!0,this.trigger("panStart"))}}},{key:"onPanMove",value:function(t){var e;if(!0!==this.pinching&&!1!==this.panning)if(this.transform.scale>1){var n=this.getActivePageSpread(),r=n.getLeft()*this.transform.scale,i=this.getPageSpreadBounds(n),o=this.transform.scale;e=this.startTransform.left+r+t.deltaX/this.scrollerEl.offsetWidth*100;var a=this.startTransform.top+t.deltaY/this.scrollerEl.offsetHeight*100;e=this.clipCoordinate(e,o,i.width,i.left),a=this.clipCoordinate(a,o,i.height,i.top),e-=r,this.transform.left=e,this.transform.top=a,this.animation.animate({x:"".concat(e,"%"),y:"".concat(a,"%"),scale:o,easing:"linear"})}else e=this.transform.left+t.deltaX/this.scrollerEl.offsetWidth*100,this.animation.animate({x:"".concat(e,"%"),easing:"linear"})}},{key:"onPanEnd",value:function(t){if(!1!==this.panning&&(this.panning=!1,this.trigger("panEnd"),1===this.transform.scale&&!1===this.pinching)){var e=this.getPosition(),n=t.overallVelocityX;Math.abs(n)>=this.swipeVelocity&&Math.abs(t.deltaX)>=this.swipeThreshold&&(t.offsetDirection===El.DIRECTION_LEFT?this.next({velocity:n,duration:this.navigationPanDuration}):t.offsetDirection===El.DIRECTION_RIGHT&&this.prev({velocity:n,duration:this.navigationPanDuration})),e===this.getPosition()&&(this.animation.animate({x:"".concat(this.transform.left,"%"),duration:this.navigationPanDuration}),this.trigger("attemptedNavigation",{position:this.getPosition()}))}}},{key:"onPinchStart",value:function(){this.getActivePageSpread().isZoomable()&&(this.pinching=!0,this.el.setAttribute("data-pinching",!0),this.startTransform.scale=this.transform.scale)}},{key:"onPinchMove",value:function(t){!1!==this.pinching&&this.zoomTo({x:t.center.x,y:t.center.y,scale:this.startTransform.scale*t.scale,bounds:!1,easing:"linear"})}},{key:"onPinchEnd",value:function(t){var e=this;if(!1!==this.pinching){var n=this.getActivePageSpread().getMaxZoomScale(),r=Math.max(1,Math.min(this.transform.scale,n)),i=this.getPosition();1===this.startTransform.scale&&r>1?this.trigger("zoomedIn",{position:i}):this.startTransform.scale>1&&1===r&&this.trigger("zoomedOut",{position:i}),this.zoomTo({x:t.center.x,y:t.center.y,scale:r,duration:this.zoomDuration},(function(){e.pinching=!1,e.el.setAttribute("data-pinching",!1)}))}}},{key:"onPress",value:function(t){this.trigger("pressed",this.getCoordinateInfo(t.center.x,t.center.y,this.getActivePageSpread()))}},{key:"onContextmenu",value:function(t){return t.preventDefault(),this.trigger("contextmenu",this.getCoordinateInfo(t.clientX,t.clientY,this.getActivePageSpread())),!1}},{key:"onWheel",value:function(t){var e,n,r=this,i=this.getActivePageSpread();if(!1!==i.isZoomable()){var o=t.deltaY;event.webkitDirectionInvertedFromDevice&&(o=-o),o>0&&1===this.transform.scale?(n=i.getMaxZoomScale(),e=this.getPosition(),this.zoomTo({x:t.clientX,y:t.clientY,scale:n,duration:this.zoomDuration},(function(){r.trigger("zoomedIn",{position:e})}))):o<0&&this.transform.scale>1&&(e=this.getPosition(),this.zoomTo({x:t.clientX,y:t.clientY,scale:1,duration:this.zoomDuration},(function(){r.trigger("zoomedOut",{position:e})})))}}},{key:"onSingletap",value:function(t){var e=this,n=this.getActivePageSpread(),r=this.getCoordinateInfo(t.center.x,t.center.y,n);if(clearTimeout(this.tap.timeout),1===this.tap.count){if(this.tap.count=0,this.trigger("doubleClicked",r),n.isZoomable()){var i=n.getMaxZoomScale(),o=this.transform.scale>1,a=o?1:i,s=o?"zoomedOut":"zoomedIn",c=this.getPosition();this.zoomTo({x:t.center.x,y:t.center.y,scale:a,duration:this.zoomDuration},(function(){e.trigger(s,{position:c})}))}}else this.tap.count++,this.tap.timeout=Ln((function(){e.tap.count=0,e.trigger("clicked",r)}),this.tap.delay)}},{key:"onTouchStart",value:function(t){this.getActivePageSpread().isScrollable()||t.preventDefault()}},{key:"onTouchEnd",value:function(t){this.getActivePageSpread().isScrollable()||t.preventDefault()}},{key:"onResize",value:function(){if(this.transform.scale>1){var t=this.getPosition(),e=this.getActivePageSpread();this.transform.left=this.getLeftTransformFromPageSpread(t,e),this.transform.top=0,this.transform.scale=1,this.zoomTo({x:this.transform.left,y:this.transform.top,scale:this.transform.scale,duration:0}),this.trigger("zoomedOut",{position:t})}}}]),t}()}));
//# sourceMappingURL=verso.min.js.map
